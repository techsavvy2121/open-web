import{s as Ee,E as fe,F as ue,a as b,d,f as i,i as O,g as _,n as ae,z as He,B as Pe,p as _t,j as Be,M as Tt,r as vt,k as q,o as G,v as wt,w as bt,x as kt,e as $,t as Ie,c as y,b as De,u as ke,h as Ve,I as Xe,q as Vt,D as rt,N as Wt,R as zt,G as nt,C as Le,P as Bt,O as lt,Q as Et}from"../chunks/BDiUIGvQ.js";import{S as Ne,i as $e,f as Fe,b as P,d as L,m as F,t as D,a as M,e as x,g as Me,c as Se}from"../chunks/CMw2dQw9.js";import{p as Mt}from"../chunks/Dd1KqlJs.js";import{e as Qe}from"../chunks/DgmbscGK.js";import{f as St}from"../chunks/CyTOOynw.js";import{h as jt,E as At}from"../chunks/MzMpT8ak.js";import{m as Ut}from"../chunks/5uy4Zm2q.js";import{t as ce}from"../chunks/CCWCPRcv.js";import{m as Rt,c as Ot,b as Ht,s as Pt,e as Lt,g as Ft}from"../chunks/0WLtkgvg.js";import{g as ot}from"../chunks/S4kmFmNp.js";import{v as xt,h as Zt,m as qt,p as Gt}from"../chunks/CXA2wbo1.js";import{u as Jt}from"../chunks/D1OVFEfm.js";import{d as Re,r as Yt}from"../chunks/I1CDPYOB.js";import{d as Qt}from"../chunks/B5vguJUR.js";import{c as Xt}from"../chunks/DOWKdgXc.js";import{a as Kt,d as en,N as tn,u as nn}from"../chunks/Dpq5EK2p.js";import{R as sn,V as rn}from"../chunks/BeQ8C9dr.js";import{S as Nt}from"../chunks/B8jKL4d6.js";import{M as ln}from"../chunks/B3QIbQzD.js";import{C as on}from"../chunks/79Rinja3.js";import{I as an}from"../chunks/CVWlYbfy.js";import{F as cn}from"../chunks/DLXIUI1u.js";import{F as fn}from"../chunks/Bbo-rKxR.js";import"../chunks/Ce19VtxD.js";import{M as un,a as dn,b as mn}from"../chunks/Db3fZeOE.js";import{f as hn}from"../chunks/ZLcEirMF.js";import{C as gn}from"../chunks/CAe12bDn.js";import{E as pn}from"../chunks/ChutD0tV.js";import{T as $t}from"../chunks/DZF3XBRY.js";import{S as _n,A as vn}from"../chunks/DLnqdjgO.js";import{C as wn}from"../chunks/BH7sd9hM.js";import{c as bn}from"../chunks/ClErufDF.js";function kn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function En(r,e,t){let{className:n="size-3"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Nn extends Ne{constructor(e){super(),$e(this,e,En,kn,Ee,{className:0,strokeWidth:1})}}function $n(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function yn(r,e,t){let{className:n="size-3"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Cn extends Ne{constructor(e){super(),$e(this,e,yn,$n,Ee,{className:0,strokeWidth:1})}}function In(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Dn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Tn extends Ne{constructor(e){super(),$e(this,e,Dn,In,Ee,{className:0,strokeWidth:1})}}function Vn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Wn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class zn extends Ne{constructor(e){super(),$e(this,e,Wn,Vn,Ee,{className:0,strokeWidth:1})}}const Bn=r=>({}),at=r=>({});function Mn(r){let e;const t=r[8].default,n=vt(t,r,r[15],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,l){n&&n.m(s,l),e=!0},p(s,l){n&&n.p&&(!e||l&32768)&&wt(n,t,s,s[15],e?kt(t,s[15],l,null):bt(s[15]),null)},i(s){e||(D(n,s),e=!0)},o(s){M(n,s),e=!1},d(s){n&&n.d(s)}}}function Sn(r){let e,t,n,s,l,o=r[5].t("Record")+"",a,u,m,v,p,f,g,I=r[5].t("Capture Audio")+"",k,E,V,U,T,K,Y,ne=r[5].t("Upload Audio")+"",Q,A,R,S;return n=new Tn({props:{className:"size-5",strokeWidth:"1.5"}}),p=new zn({props:{className:"size-5",strokeWidth:"1.5"}}),T=new gn({props:{className:"size-5",strokeWidth:"1.5"}}),{c(){e=$("button"),t=$("div"),P(n.$$.fragment),s=q(),l=$("div"),a=Ie(o),u=q(),m=$("button"),v=$("div"),P(p.$$.fragment),f=q(),g=$("div"),k=Ie(I),E=q(),V=$("button"),U=$("div"),P(T.$$.fragment),K=q(),Y=$("div"),Q=Ie(ne),this.h()},l(N){e=y(N,"BUTTON",{class:!0});var W=b(e);t=y(W,"DIV",{class:!0});var h=b(t);L(n.$$.fragment,h),h.forEach(d),s=G(W),l=y(W,"DIV",{class:!0});var z=b(l);a=De(z,o),z.forEach(d),W.forEach(d),u=G(N),m=y(N,"BUTTON",{class:!0});var se=b(m);v=y(se,"DIV",{class:!0});var Z=b(v);L(p.$$.fragment,Z),Z.forEach(d),f=G(se),g=y(se,"DIV",{class:!0});var ie=b(g);k=De(ie,I),ie.forEach(d),se.forEach(d),E=G(N),V=y(N,"BUTTON",{class:!0});var re=b(V);U=y(re,"DIV",{class:!0});var le=b(U);L(T.$$.fragment,le),le.forEach(d),K=G(re),Y=y(re,"DIV",{class:!0});var he=b(Y);Q=De(he,ne),he.forEach(d),re.forEach(d),this.h()},h(){i(t,"class","self-center mr-2"),i(l,"class","self-center truncate"),i(e,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),i(v,"class","self-center mr-2"),i(g,"class","self-center truncate"),i(m,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),i(U,"class","self-center mr-2"),i(Y,"class","self-center truncate"),i(V,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(N,W){O(N,e,W),_(e,t),F(n,t,null),_(e,s),_(e,l),_(l,a),O(N,u,W),O(N,m,W),_(m,v),F(p,v,null),_(m,f),_(m,g),_(g,k),O(N,E,W),O(N,V,W),_(V,U),F(T,U,null),_(V,K),_(V,Y),_(Y,Q),A=!0,R||(S=[ke(e,"click",r[9]),ke(m,"click",r[10]),ke(V,"click",r[11])],R=!0)},p(N,W){(!A||W&32)&&o!==(o=N[5].t("Record")+"")&&Ve(a,o),(!A||W&32)&&I!==(I=N[5].t("Capture Audio")+"")&&Ve(k,I),(!A||W&32)&&ne!==(ne=N[5].t("Upload Audio")+"")&&Ve(Q,ne)},i(N){A||(D(n.$$.fragment,N),D(p.$$.fragment,N),D(T.$$.fragment,N),A=!0)},o(N){M(n.$$.fragment,N),M(p.$$.fragment,N),M(T.$$.fragment,N),A=!1},d(N){N&&(d(e),d(u),d(m),d(E),d(V)),x(n),x(p),x(T),R=!1,Xe(S)}}}function jn(r){let e,t;return e=new mn({props:{class:"w-full "+r[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary",sideOffset:8,side:"bottom",align:"start",transition:r[12],$$slots:{default:[Sn]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p(n,s){const l={};s&2&&(l.class="w-full "+n[1]+" text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary"),s&32829&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function An(r){let e,t,n;e=new dn({props:{$$slots:{default:[Mn]},$$scope:{ctx:r}}});const s=r[8].content,l=vt(s,r,r[15],at),o=l||jn(r);return{c(){P(e.$$.fragment),t=q(),o&&o.c()},l(a){L(e.$$.fragment,a),t=G(a),o&&o.l(a)},m(a,u){F(e,a,u),O(a,t,u),o&&o.m(a,u),n=!0},p(a,u){const m={};u&32768&&(m.$$scope={dirty:u,ctx:a}),e.$set(m),l?l.p&&(!n||u&32768)&&wt(l,s,a,a[15],n?kt(s,a[15],u,Bn):bt(a[15]),at):o&&o.p&&(!n||u&63)&&o.p(a,n?u:-1)},i(a){n||(D(e.$$.fragment,a),D(o,a),n=!0)},o(a){M(e.$$.fragment,a),M(o,a),n=!1},d(a){a&&d(t),x(e,a),o&&o.d(a)}}}function Un(r){let e,t,n;function s(o){r[14](o)}let l={onOpenChange:r[13],$$slots:{default:[An]},$$scope:{ctx:r}};return r[0]!==void 0&&(l.open=r[0]),e=new un({props:l}),He.push(()=>Fe(e,"open",s)),{c(){P(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,a){F(e,o,a),n=!0},p(o,[a]){const u={};a&32831&&(u.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,u.open=o[0],Pe(()=>t=!1)),e.$set(u)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Rn(r,e,t){let n,{$$slots:s={},$$scope:l}=e;const o=_t("i18n");Be(r,o,T=>t(5,n=T));let{show:a=!1}=e,{className:u="max-w-[160px]"}=e,{onRecord:m=()=>{}}=e,{onCaptureAudio:v=()=>{}}=e,{onUpload:p=()=>{}}=e;const f=Tt(),g=async()=>{m(),t(0,a=!1)},I=()=>{v(),t(0,a=!1)},k=()=>{p(),t(0,a=!1)},E=T=>hn(T,{duration:100}),V=T=>{f("change",T)};function U(T){a=T,t(0,a)}return r.$$set=T=>{"show"in T&&t(0,a=T.show),"className"in T&&t(1,u=T.className),"onRecord"in T&&t(2,m=T.onRecord),"onCaptureAudio"in T&&t(3,v=T.onCaptureAudio),"onUpload"in T&&t(4,p=T.onUpload),"$$scope"in T&&t(15,l=T.$$scope)},[a,u,m,v,p,n,o,f,s,g,I,k,E,V,U,l]}class On extends Ne{constructor(e){super(),$e(this,e,Rn,Un,Ee,{show:0,className:1,onRecord:2,onCaptureAudio:3,onUpload:4})}}function Hn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=b(e);t=ue(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"fill-rule","evenodd"),i(t,"d","M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z"),i(t,"clip-rule","evenodd"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Pn(r,e,t){let{className:n="w-4 h-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Ln extends Ne{constructor(e){super(),$e(this,e,Pn,Hn,Ee,{className:0,strokeWidth:1})}}function Fn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function xn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Zn extends Ne{constructor(e){super(),$e(this,e,xn,Fn,Ee,{className:0,strokeWidth:1})}}function qn(r){let e,t;return{c(){e=fe("svg"),t=fe("path"),this.h()},l(n){e=ue(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var s=b(e);t=ue(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),b(t).forEach(d),s.forEach(d),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",r[1]),i(e,"stroke","currentColor"),i(e,"class",r[0])},m(n,s){O(n,e,s),_(e,t)},p(n,[s]){s&2&&i(e,"stroke-width",n[1]),s&1&&i(e,"class",n[0])},i:ae,o:ae,d(n){n&&d(e)}}}function Gn(r,e,t){let{className:n="size-4"}=e,{strokeWidth:s="1.5"}=e;return r.$$set=l=>{"className"in l&&t(0,n=l.className),"strokeWidth"in l&&t(1,s=l.strokeWidth)},[n,s]}class Jn extends Ne{constructor(e){super(),$e(this,e,Gn,qn,Ee,{className:0,strokeWidth:1})}}function it(r,e,t){const n=r.slice();return n[61]=e[t],n[63]=t,n}function ct(r,e,t){const n=r.slice();return n[64]=e[t],n}function Yn(r){let e,t=r[1].t("This will delete")+"",n,s,l,o=r[0].title+"",a,u;return{c(){e=$("div"),n=Ie(t),s=q(),l=$("span"),a=Ie(o),u=Ie("."),this.h()},l(m){e=y(m,"DIV",{class:!0});var v=b(e);n=De(v,t),s=G(v),l=y(v,"SPAN",{class:!0});var p=b(l);a=De(p,o),p.forEach(d),u=De(v,"."),v.forEach(d),this.h()},h(){i(l,"class","font-semibold"),i(e,"class","text-sm text-gray-500")},m(m,v){O(m,e,v),_(e,n),_(e,s),_(e,l),_(l,a),_(e,u)},p(m,v){v[0]&2&&t!==(t=m[1].t("This will delete")+"")&&Ve(n,t),v[0]&1&&o!==(o=m[0].title+"")&&Ve(a,o)},d(m){m&&d(e)}}}function ft(r){let e,t=r[64].name+"",n,s;return{c(){e=$("option"),n=Ie(t),this.h()},l(l){e=y(l,"OPTION",{class:!0});var o=b(e);n=De(o,t),o.forEach(d),this.h()},h(){e.__value=s=r[64].id,Le(e,e.__value),i(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,o){O(l,e,o),_(e,n)},p(l,o){o[0]&8192&&t!==(t=l[64].name+"")&&Ve(n,t),o[0]&8192&&s!==(s=l[64].id)&&(e.__value=s,Le(e,e.__value))},d(l){l&&d(e)}}}function Qn(r){let e,t,n,s="Settings",l,o,a,u,m,v,p,f,g="Model",I,k,E,V,U=r[1].t("Select a model")+"",T,K,Y,ne,Q;u=new vn({props:{className:"size-3",strokeWidth:"2.5"}});let A=Qe(r[13].filter(pt)),R=[];for(let S=0;S<A.length;S+=1)R[S]=ft(ct(r,A,S));return{c(){e=$("div"),t=$("div"),n=$("div"),n.textContent=s,l=q(),o=$("div"),a=$("button"),P(u.$$.fragment),m=q(),v=$("div"),p=$("div"),f=$("div"),f.textContent=g,I=q(),k=$("div"),E=$("select"),V=$("option"),T=Ie(U),K=q();for(let S=0;S<R.length;S+=1)R[S].c();this.h()},l(S){e=y(S,"DIV",{class:!0});var N=b(e);t=y(N,"DIV",{class:!0});var W=b(t);n=y(W,"DIV",{class:!0,"data-svelte-h":!0}),nt(n)!=="svelte-1dw76ku"&&(n.textContent=s),l=G(W),o=y(W,"DIV",{class:!0});var h=b(o);a=y(h,"BUTTON",{class:!0});var z=b(a);L(u.$$.fragment,z),z.forEach(d),h.forEach(d),W.forEach(d),m=G(N),v=y(N,"DIV",{class:!0});var se=b(v);p=y(se,"DIV",{});var Z=b(p);f=y(Z,"DIV",{class:!0,"data-svelte-h":!0}),nt(f)!=="svelte-vz1bvh"&&(f.textContent=g),I=G(Z),k=y(Z,"DIV",{class:!0});var ie=b(k);E=y(ie,"SELECT",{class:!0});var re=b(E);V=y(re,"OPTION",{class:!0});var le=b(V);T=De(le,U),K=G(le),le.forEach(d);for(let he=0;he<R.length;he+=1)R[he].l(re);re.forEach(d),ie.forEach(d),Z.forEach(d),se.forEach(d),N.forEach(d),this.h()},h(){i(n,"class","font-medium text-base"),i(a,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"),i(o,"class","translate-x-1.5"),i(t,"class","flex justify-between items-center mb-2"),i(f,"class","text-xs font-medium mb-1"),V.__value="",Le(V,V.__value),i(V,"class","bg-gray-50 dark:bg-gray-700"),V.disabled=!0,i(E,"class","w-full bg-transparent text-sm outline-hidden"),r[4]===void 0&&Bt(()=>r[25].call(E)),i(k,"class","w-full"),i(v,"class","mt-1"),i(e,"class","flex flex-col px-5 py-3 text-sm")},m(S,N){O(S,e,N),_(e,t),_(t,n),_(t,l),_(t,o),_(o,a),F(u,a,null),_(e,m),_(e,v),_(v,p),_(p,f),_(p,I),_(p,k),_(k,E),_(E,V),_(V,T),_(V,K);for(let W=0;W<R.length;W+=1)R[W]&&R[W].m(E,null);lt(E,r[4],!0),Y=!0,ne||(Q=[ke(a,"click",r[24]),ke(E,"change",r[25])],ne=!0)},p(S,N){if((!Y||N[0]&2)&&U!==(U=S[1].t("Select a model")+"")&&Ve(T,U),N[0]&8192){A=Qe(S[13].filter(pt));let W;for(W=0;W<A.length;W+=1){const h=ct(S,A,W);R[W]?R[W].p(h,N):(R[W]=ft(h),R[W].c(),R[W].m(E,null))}for(;W<R.length;W+=1)R[W].d(1);R.length=A.length}N[0]&8208&&lt(E,S[4])},i(S){Y||(D(u.$$.fragment,S),Y=!0)},o(S){M(u.$$.fragment,S),Y=!1},d(S){S&&d(e),x(u),Et(R,S),ne=!1,Xe(Q)}}}function Xn(r){var Ze,qe,Ge,Je;let e,t,n,s,l,o,a,u,m,v,p,f,g,I,k,E,V,U,T,K=Re(r[0].created_at/1e6).calendar()+"",Y,ne,Q,A,R,S,N="You",W,h,z,se,Z,ie,re,le,he,Oe,X=((qe=(Ze=r[0].data)==null?void 0:Ze.versions)==null?void 0:qe.length)>0&&ut(r);m=new tn({props:{onDownload:r[30],onCopyToClipboard:r[31],onDelete:r[32],$$slots:{default:[es]},$$scope:{ctx:r}}}),f=new wn({}),V=new Nn({props:{className:"size-3.5",strokeWidth:"2"}}),A=new Cn({props:{className:"size-3.5",strokeWidth:"2"}});let oe=r[11]&&dt(r),ee=r[2]&&r[2].length>0&&mt(r);function Ke(B){r[37](B)}let xe={className:"input-prose-sm px-0.5",placeholder:r[1].t("Write something..."),html:(Je=(Ge=r[0].data)==null?void 0:Ge.content)==null?void 0:Je.html,json:!0,editable:r[3]===null&&!r[11],onChange:r[36]};return r[0].data.content.json!==void 0&&(xe.value=r[0].data.content.json),Z=new sn({props:xe}),He.push(()=>Fe(Z,"value",Ke)),{c(){e=$("div"),t=$("div"),n=$("div"),s=$("input"),o=q(),a=$("div"),X&&X.c(),u=q(),P(m.$$.fragment),v=q(),p=$("button"),P(f.$$.fragment),g=q(),I=$("div"),k=$("div"),E=$("button"),P(V.$$.fragment),U=q(),T=$("span"),Y=Ie(K),ne=q(),Q=$("button"),P(A.$$.fragment),R=q(),S=$("span"),S.textContent=N,W=q(),h=$("div"),oe&&oe.c(),z=q(),ee&&ee.c(),se=q(),P(Z.$$.fragment),this.h()},l(B){e=y(B,"DIV",{class:!0});var H=b(e);t=y(H,"DIV",{class:!0});var ye=b(t);n=y(ye,"DIV",{class:!0});var de=b(n);s=y(de,"INPUT",{class:!0,type:!0,placeholder:!0}),o=G(de),a=y(de,"DIV",{class:!0});var pe=b(a);X&&X.l(pe),u=G(pe),L(m.$$.fragment,pe),v=G(pe),p=y(pe,"BUTTON",{class:!0});var We=b(p);L(f.$$.fragment,We),We.forEach(d),pe.forEach(d),de.forEach(d),ye.forEach(d),g=G(H),I=y(H,"DIV",{class:!0});var ze=b(I);k=y(ze,"DIV",{class:!0});var Ce=b(k);E=y(Ce,"BUTTON",{class:!0});var je=b(E);L(V.$$.fragment,je),U=G(je),T=y(je,"SPAN",{});var Ye=b(T);Y=De(Ye,K),Ye.forEach(d),je.forEach(d),ne=G(Ce),Q=y(Ce,"BUTTON",{class:!0});var Ae=b(Q);L(A.$$.fragment,Ae),R=G(Ae),S=y(Ae,"SPAN",{"data-svelte-h":!0}),nt(S)!=="svelte-1lsvfg9"&&(S.textContent=N),Ae.forEach(d),Ce.forEach(d),ze.forEach(d),W=G(H),h=y(H,"DIV",{class:!0,id:!0});var Te=b(h);oe&&oe.l(Te),z=G(Te),ee&&ee.l(Te),se=G(Te),L(Z.$$.fragment,Te),Te.forEach(d),H.forEach(d),this.h()},h(){i(s,"class","w-full text-2xl font-medium bg-transparent outline-hidden"),i(s,"type","text"),i(s,"placeholder",l=r[1].t("Title")),s.required=!0,i(p,"class","p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg"),i(a,"class","flex items-center gap-2 translate-x-1"),i(n,"class","w-full flex items-center"),i(t,"class","shrink-0 w-full flex justify-between items-center px-4.5 mb-1.5"),i(E,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg"),i(Q,"class","flex items-center gap-1 w-fit py-1 px-1.5 rounded-lg"),i(k,"class","flex gap-1 items-center text-xs font-medium text-gray-500 dark:text-gray-500"),i(I,"class","mb-2.5 px-3.5"),i(h,"class","flex-1 w-full h-full overflow-auto px-4 pb-20 relative"),i(h,"id","note-content-container"),i(e,"class",re="w-full flex flex-col "+(r[10]?"opacity-20":""))},m(B,H){O(B,e,H),_(e,t),_(t,n),_(n,s),Le(s,r[0].title),_(n,o),_(n,a),X&&X.m(a,null),_(a,u),F(m,a,null),_(a,v),_(a,p),F(f,p,null),_(e,g),_(e,I),_(I,k),_(k,E),F(V,E,null),_(E,U),_(E,T),_(T,Y),_(k,ne),_(k,Q),F(A,Q,null),_(Q,R),_(Q,S),_(e,W),_(e,h),oe&&oe.m(h,null),_(h,z),ee&&ee.m(h,null),_(h,se),F(Z,h,null),le=!0,he||(Oe=[ke(s,"input",r[27]),ke(p,"click",r[33])],he=!0)},p(B,H){var pe,We,ze,Ce;(!le||H[0]&2&&l!==(l=B[1].t("Title")))&&i(s,"placeholder",l),H[0]&1&&s.value!==B[0].title&&Le(s,B[0].title),((We=(pe=B[0].data)==null?void 0:pe.versions)==null?void 0:We.length)>0?X?(X.p(B,H),H[0]&1&&D(X,1)):(X=ut(B),X.c(),D(X,1),X.m(a,u)):X&&(Me(),M(X,1,1,()=>{X=null}),Se());const ye={};H[0]&3&&(ye.onCopyToClipboard=B[31]),H[0]&256&&(ye.onDelete=B[32]),H[2]&32&&(ye.$$scope={dirty:H,ctx:B}),m.$set(ye),(!le||H[0]&1)&&K!==(K=Re(B[0].created_at/1e6).calendar()+"")&&Ve(Y,K),B[11]?oe?oe.p(B,H):(oe=dt(B),oe.c(),oe.m(h,z)):oe&&(oe.d(1),oe=null),B[2]&&B[2].length>0?ee?(ee.p(B,H),H[0]&4&&D(ee,1)):(ee=mt(B),ee.c(),D(ee,1),ee.m(h,se)):ee&&(Me(),M(ee,1,1,()=>{ee=null}),Se());const de={};H[0]&2&&(de.placeholder=B[1].t("Write something...")),H[0]&1&&(de.html=(Ce=(ze=B[0].data)==null?void 0:ze.content)==null?void 0:Ce.html),H[0]&2056&&(de.editable=B[3]===null&&!B[11]),H[0]&1&&(de.onChange=B[36]),!ie&&H[0]&1&&(ie=!0,de.value=B[0].data.content.json,Pe(()=>ie=!1)),Z.$set(de),(!le||H[0]&1024&&re!==(re="w-full flex flex-col "+(B[10]?"opacity-20":"")))&&i(e,"class",re)},i(B){le||(D(X),D(m.$$.fragment,B),D(f.$$.fragment,B),D(V.$$.fragment,B),D(A.$$.fragment,B),D(ee),D(Z.$$.fragment,B),le=!0)},o(B){M(X),M(m.$$.fragment,B),M(f.$$.fragment,B),M(V.$$.fragment,B),M(A.$$.fragment,B),M(ee),M(Z.$$.fragment,B),le=!1},d(B){B&&d(e),X&&X.d(),x(m),x(f),x(V),x(A),oe&&oe.d(),ee&&ee.d(),x(Z),he=!1,Xe(Oe)}}}function Kn(r){let e,t,n,s;return n=new Nt({}),{c(){e=$("div"),t=$("div"),P(n.$$.fragment),this.h()},l(l){e=y(l,"DIV",{class:!0});var o=b(e);t=y(o,"DIV",{class:!0});var a=b(t);L(n.$$.fragment,a),a.forEach(d),o.forEach(d),this.h()},h(){i(t,"class","m-auto"),i(e,"class","absolute top-0 bottom-0 left-0 right-0 flex")},m(l,o){O(l,e,o),_(e,t),F(n,t,null),s=!0},p:ae,i(l){s||(D(n.$$.fragment,l),s=!0)},o(l){M(n.$$.fragment,l),s=!1},d(l){l&&d(e),x(n)}}}function ut(r){let e,t,n,s,l,o,a,u,m,v,p,f;return s=new Zn({props:{className:"size-4"}}),u=new Jn({props:{className:"size-4"}}),{c(){e=$("div"),t=$("div"),n=$("button"),P(s.$$.fragment),o=q(),a=$("button"),P(u.$$.fragment),this.h()},l(g){e=y(g,"DIV",{});var I=b(e);t=y(I,"DIV",{class:!0,dir:!0});var k=b(t);n=y(k,"BUTTON",{class:!0});var E=b(n);L(s.$$.fragment,E),E.forEach(d),o=G(k),a=y(k,"BUTTON",{class:!0});var V=b(a);L(u.$$.fragment,V),V.forEach(d),k.forEach(d),I.forEach(d),this.h()},h(){i(n,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),n.disabled=l=r[3]===null&&r[0].data.versions.length===0||r[3]===0,i(a,"class","self-center p-1 hover:enabled:bg-black/5 dark:hover:enabled:bg-white/5 dark:hover:enabled:text-white hover:enabled:text-black rounded-md transition disabled:cursor-not-allowed disabled:text-gray-500 disabled:hover:text-gray-500"),a.disabled=m=r[3]>=r[0].data.versions.length||r[3]===null,i(t,"class","flex items-center gap-0.5 self-center min-w-fit"),i(t,"dir","ltr")},m(g,I){O(g,e,I),_(e,t),_(t,n),F(s,n,null),_(t,o),_(t,a),F(u,a,null),v=!0,p||(f=[ke(n,"click",r[28]),ke(a,"click",r[29])],p=!0)},p(g,I){(!v||I[0]&9&&l!==(l=g[3]===null&&g[0].data.versions.length===0||g[3]===0))&&(n.disabled=l),(!v||I[0]&9&&m!==(m=g[3]>=g[0].data.versions.length||g[3]===null))&&(a.disabled=m)},i(g){v||(D(s.$$.fragment,g),D(u.$$.fragment,g),v=!0)},o(g){M(s.$$.fragment,g),M(u.$$.fragment,g),v=!1},d(g){g&&d(e),x(s),x(u),p=!1,Xe(f)}}}function es(r){let e,t;return e=new pn({props:{className:"size-5"}}),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p:ae,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function dt(r){let e,t;return{c(){e=$("div"),this.h()},l(n){e=y(n,"DIV",{class:!0}),b(e).forEach(d),this.h()},h(){i(e,"class",t="w-full h-full fixed top-0 left-0 "+(r[12]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")},m(n,s){O(n,e,s)},p(n,s){s[0]&4096&&t!==(t="w-full h-full fixed top-0 left-0 "+(n[12]?"":" backdrop-blur-xs  bg-white/10 dark:bg-gray-900/10")+" flex items-center justify-center z-10 cursor-not-allowed")&&i(e,"class",t)},d(n){n&&d(e)}}}function mt(r){let e,t,n=Qe(r[2]),s=[];for(let o=0;o<n.length;o+=1)s[o]=ht(it(r,n,o));const l=o=>M(s[o],1,1,()=>{s[o]=null});return{c(){e=$("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=y(o,"DIV",{class:!0});var a=b(e);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(d),this.h()},h(){i(e,"class","mb-3.5 mt-1.5 w-full flex gap-1 flex-wrap z-40")},m(o,a){O(o,e,a);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);t=!0},p(o,a){if(a[0]&5){n=Qe(o[2]);let u;for(u=0;u<n.length;u+=1){const m=it(o,n,u);s[u]?(s[u].p(m,a),D(s[u],1)):(s[u]=ht(m),s[u].c(),D(s[u],1),s[u].m(e,null))}for(Me(),u=n.length;u<s.length;u+=1)l(u);Se()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)D(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)M(s[a]);t=!1},d(o){o&&d(e),Et(s,o)}}}function ts(r){var s;let e,t;function n(){return r[35](r[61])}return e=new cn({props:{item:r[61],dismissible:!0,url:r[61].url,name:r[61].name,type:r[61].type,size:(s=r[61])==null?void 0:s.size,loading:r[61].status==="uploading"}}),e.$on("dismiss",n),{c(){P(e.$$.fragment)},l(l){L(e.$$.fragment,l)},m(l,o){F(e,l,o),t=!0},p(l,o){var u;r=l;const a={};o[0]&4&&(a.item=r[61]),o[0]&4&&(a.url=r[61].url),o[0]&4&&(a.name=r[61].name),o[0]&4&&(a.type=r[61].type),o[0]&4&&(a.size=(u=r[61])==null?void 0:u.size),o[0]&4&&(a.loading=r[61].status==="uploading"),e.$set(a)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ns(r){let e,t;function n(){return r[34](r[63])}return e=new an({props:{src:r[61].url,imageClassName:" max-h-96 rounded-lg",dismissible:!0,onDismiss:n}}),{c(){P(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,l){F(e,s,l),t=!0},p(s,l){r=s;const o={};l[0]&4&&(o.src=r[61].url),l[0]&5&&(o.onDismiss=n),e.$set(o)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){M(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function ht(r){let e,t,n,s,l;const o=[ns,ts],a=[];function u(m,v){return m[61].type==="image"?0:1}return t=u(r),n=a[t]=o[t](r),{c(){e=$("div"),n.c(),s=q(),this.h()},l(m){e=y(m,"DIV",{class:!0});var v=b(e);n.l(v),s=G(v),v.forEach(d),this.h()},h(){i(e,"class","w-fit")},m(m,v){O(m,e,v),a[t].m(e,null),_(e,s),l=!0},p(m,v){let p=t;t=u(m),t===p?a[t].p(m,v):(Me(),M(a[p],1,1,()=>{a[p]=null}),Se(),n=a[t],n?n.p(m,v):(n=a[t]=o[t](m),n.c()),D(n,1),n.m(e,s))},i(m){l||(D(n),l=!0)},o(m){M(n),l=!1},d(m){m&&d(e),a[t].d()}}}function ss(r){let e,t,n,s,l;return e=new On({props:{onRecord:r[41],onCaptureAudio:r[42],onUpload:r[43],$$slots:{default:[os]},$$scope:{ctx:r}}}),s=new $t({props:{content:r[1].t("Enhance"),placement:"top",$$slots:{default:[cs]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment),t=q(),n=$("div"),P(s.$$.fragment),this.h()},l(o){L(e.$$.fragment,o),t=G(o),n=y(o,"DIV",{class:!0});var a=b(n);L(s.$$.fragment,a),a.forEach(d),this.h()},h(){i(n,"class","cursor-pointer flex gap-0.5 rounded-full border border-gray-50 dark:border-gray-850 dark:bg-gray-850 transition shadow-xl")},m(o,a){F(e,o,a),O(o,t,a),O(o,n,a),F(s,n,null),l=!0},p(o,a){const u={};a[0]&98&&(u.onRecord=o[41]),a[0]&96&&(u.onCaptureAudio=o[42]),a[0]&2|a[2]&32&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const m={};a[0]&2&&(m.content=o[1].t("Enhance")),a[0]&2048|a[2]&32&&(m.$$scope={dirty:a,ctx:o}),s.$set(m)},i(o){l||(D(e.$$.fragment,o),D(s.$$.fragment,o),l=!0)},o(o){M(e.$$.fragment,o),M(s.$$.fragment,o),l=!1},d(o){o&&(d(t),d(n)),x(e,o),x(s)}}}function rs(r){let e,t,n,s;function l(a){r[40](a)}let o={className:"p-1 w-full max-w-full",transcribe:!1,displayMedia:r[6],onCancel:r[38],onConfirm:r[39]};return r[5]!==void 0&&(o.recording=r[5]),t=new rn({props:o}),He.push(()=>Fe(t,"recording",l)),{c(){e=$("div"),P(t.$$.fragment),this.h()},l(a){e=y(a,"DIV",{class:!0});var u=b(e);L(t.$$.fragment,u),u.forEach(d),this.h()},h(){i(e,"class","flex-1 w-full")},m(a,u){O(a,e,u),F(t,e,null),s=!0},p(a,u){const m={};u[0]&64&&(m.displayMedia=a[6]),u[0]&96&&(m.onCancel=a[38]),u[0]&96&&(m.onConfirm=a[39]),!n&&u[0]&32&&(n=!0,m.recording=a[5],Pe(()=>n=!1)),t.$set(m)},i(a){s||(D(t.$$.fragment,a),s=!0)},o(a){M(t.$$.fragment,a),s=!1},d(a){a&&d(e),x(t)}}}function ls(r){let e,t,n;return t=new ln({props:{className:"size-4.5"}}),{c(){e=$("button"),P(t.$$.fragment),this.h()},l(s){e=y(s,"BUTTON",{class:!0,type:!0});var l=b(e);L(t.$$.fragment,l),l.forEach(d),this.h()},h(){i(e,"class","cursor-pointer p-2.5 flex rounded-full border border-gray-50 bg-white dark:border-none dark:bg-gray-850 hover:bg-gray-50 dark:hover:bg-gray-800 transition shadow-xl"),i(e,"type","button")},m(s,l){O(s,e,l),F(t,e,null),n=!0},p:ae,i(s){n||(D(t.$$.fragment,s),n=!0)},o(s){M(t.$$.fragment,s),n=!1},d(s){s&&d(e),x(t)}}}function os(r){let e,t;return e=new $t({props:{content:r[1].t("Record"),placement:"top",$$slots:{default:[ls]},$$scope:{ctx:r}}}),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p(n,s){const l={};s[0]&2&&(l.content=n[1].t("Record")),s[2]&32&&(l.$$scope={dirty:s,ctx:n}),e.$set(l)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function as(r){let e,t;return e=new Ln({}),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function is(r){let e,t;return e=new Nt({props:{className:"size-5"}}),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function cs(r){let e,t,n,s,l,o,a;const u=[is,as],m=[];function v(p,f){return p[11]?0:1}return t=v(r),n=m[t]=u[t](r),{c(){e=$("button"),n.c(),this.h()},l(p){e=y(p,"BUTTON",{class:!0,type:!0});var f=b(e);n.l(f),f.forEach(d),this.h()},h(){i(e,"class",s=(r[11]?"p-2":"p-2.5")+" flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0"),e.disabled=r[11],i(e,"type","button")},m(p,f){O(p,e,f),m[t].m(e,null),l=!0,o||(a=ke(e,"click",r[44]),o=!0)},p(p,f){let g=t;t=v(p),t!==g&&(Me(),M(m[g],1,1,()=>{m[g]=null}),Se(),n=m[t],n||(n=m[t]=u[t](p),n.c()),D(n,1),n.m(e,null)),(!l||f[0]&2048&&s!==(s=(p[11]?"p-2":"p-2.5")+" flex justify-center items-center hover:bg-gray-50 dark:hover:bg-gray-800 rounded-full transition shrink-0"))&&i(e,"class",s),(!l||f[0]&2048)&&(e.disabled=p[11])},i(p){l||(D(n),l=!0)},o(p){M(n),l=!1},d(p){p&&d(e),m[t].d(),o=!1,a()}}}function fs(r){let e,t,n,s,l,o,a,u,m,v,p,f,g,I,k,E,V,U;e=new fn({props:{show:r[9]}});function T(h){r[22](h)}let K={title:r[1].t("Delete note?"),$$slots:{default:[Yn]},$$scope:{ctx:r}};r[8]!==void 0&&(K.show=r[8]),n=new on({props:K}),He.push(()=>Fe(n,"show",T)),n.$on("confirm",r[23]);function Y(h){r[26](h)}let ne={className:" bg-white dark:bg-gray-900",width:"300px",$$slots:{default:[Qn]},$$scope:{ctx:r}};r[7]!==void 0&&(ne.show=r[7]),a=new _n({props:ne}),He.push(()=>Fe(a,"show",Y));const Q=[Kn,Xn],A=[];function R(h,z){return h[10]?0:1}v=R(r),p=A[v]=Q[v](r);const S=[rs,ss],N=[];function W(h,z){return h[5]?0:1}return k=W(r),E=N[k]=S[k](r),{c(){P(e.$$.fragment),t=q(),P(n.$$.fragment),l=q(),o=$("div"),P(a.$$.fragment),m=q(),p.c(),f=q(),g=$("div"),I=$("div"),E.c(),this.h()},l(h){L(e.$$.fragment,h),t=G(h),L(n.$$.fragment,h),l=G(h),o=y(h,"DIV",{class:!0,id:!0});var z=b(o);L(a.$$.fragment,z),m=G(z),p.l(z),z.forEach(d),f=G(h),g=y(h,"DIV",{class:!0});var se=b(g);I=y(se,"DIV",{class:!0});var Z=b(I);E.l(Z),Z.forEach(d),se.forEach(d),this.h()},h(){i(o,"class","relative flex-1 w-full h-full flex justify-center"),i(o,"id","note-editor"),i(I,"class","flex gap-1 justify-between w-full max-w-full"),i(g,"class",V="absolute z-20 bottom-0 right-0 p-5 max-w-full "+(r[14]?"md:max-w-[calc(100%-260px)]":"")+" w-full flex justify-end")},m(h,z){F(e,h,z),O(h,t,z),F(n,h,z),O(h,l,z),O(h,o,z),F(a,o,null),_(o,m),A[v].m(o,null),O(h,f,z),O(h,g,z),_(g,I),N[k].m(I,null),U=!0},p(h,z){const se={};z[0]&512&&(se.show=h[9]),e.$set(se);const Z={};z[0]&2&&(Z.title=h[1].t("Delete note?")),z[0]&3|z[2]&32&&(Z.$$scope={dirty:z,ctx:h}),!s&&z[0]&256&&(s=!0,Z.show=h[8],Pe(()=>s=!1)),n.$set(Z);const ie={};z[0]&8338|z[2]&32&&(ie.$$scope={dirty:z,ctx:h}),!u&&z[0]&128&&(u=!0,ie.show=h[7],Pe(()=>u=!1)),a.$set(ie);let re=v;v=R(h),v===re?A[v].p(h,z):(Me(),M(A[re],1,1,()=>{A[re]=null}),Se(),p=A[v],p?p.p(h,z):(p=A[v]=Q[v](h),p.c()),D(p,1),p.m(o,null));let le=k;k=W(h),k===le?N[k].p(h,z):(Me(),M(N[le],1,1,()=>{N[le]=null}),Se(),E=N[k],E?E.p(h,z):(E=N[k]=S[k](h),E.c()),D(E,1),E.m(I,null)),(!U||z[0]&16384&&V!==(V="absolute z-20 bottom-0 right-0 p-5 max-w-full "+(h[14]?"md:max-w-[calc(100%-260px)]":"")+" w-full flex justify-end"))&&i(g,"class",V)},i(h){U||(D(e.$$.fragment,h),D(n.$$.fragment,h),D(a.$$.fragment,h),D(p),D(E),U=!0)},o(h){M(e.$$.fragment,h),M(n.$$.fragment,h),M(a.$$.fragment,h),M(p),M(E),U=!1},d(h){h&&(d(t),d(l),d(o),d(f),d(g)),x(e,h),x(n,h),x(a),A[v].d(),N[k].d()}}}function st(r,e){return JSON.stringify(r)===JSON.stringify(e)}function gt(r){var n;const e={json:r.data.content.json,html:r.data.content.html,md:r.data.content.md},t=(n=r.data.versions)==null?void 0:n.at(-1);return!t||!st(t,e)?(r.data.versions=(r.data.versions??[]).concat(e),!0):!1}const pt=r=>{var e,t;return!(((t=(e=r==null?void 0:r.info)==null?void 0:e.meta)==null?void 0:t.hidden)??!1)};function us(r,e,t){let n,s,l,o,a;Be(r,Rt,c=>t(13,n=c)),Be(r,Ot,c=>t(46,s=c)),Be(r,Ht,c=>t(47,l=c)),Be(r,Pt,c=>t(14,a=c));const{saveAs:u}=St,m=_t("i18n");Be(r,m,c=>t(1,o=c)),Re.extend(Xt),Re.extend(Qt),Re.extend(Yt);async function v(c){for(const w of c)try{Re.locale(w);break}catch(C){console.error(`Could not load locale '${w}':`,C)}}let{id:p=null}=e,f=null,g=[],I=null,k=null,E=!1,V=!1,U=!1,T=!1,K=!1,Y=!1,ne=!1,Q=!1;const A=async()=>{t(10,Y=!0);const c=await Kt(localStorage.token,p).catch(w=>(ce.error(`${w}`),null));if(c)t(0,f=c),t(2,g=c.data.files||[]);else{ot("/");return}t(10,Y=!1)};let R=null;const S=()=>{R&&clearTimeout(R),R=setTimeout(async()=>{!f||ne||I!==null||(console.log("Saving note:",f),await nn(localStorage.token,p,{...f,title:f.title===""?o.t("Untitled"):f.title}).catch(c=>{ce.error(`${c}`)}))},200)};async function N(){if(k===""){ce.error(o.t("Please select a model."));return}const c=n.filter(w=>{var C,J;return w.id===k&&!(((J=(C=w==null?void 0:w.info)==null?void 0:C.meta)==null?void 0:J.hidden)??!1)}).find(w=>w.id===k);if(!c){t(4,k="");return}t(11,ne=!0),gt(f),await he(c),t(11,ne=!1),t(3,I=null)}function W(c){var J;if(!((J=f.data.versions)!=null&&J.length))return;let w=c;w===null&&(w=f.data.versions.length-1);const C=f.data.versions[w];if(t(0,f.data.content.json=C.json,f),t(0,f.data.content.html=C.html,f),t(0,f.data.content.md=C.md,f),c===null){const ge=f.data.versions.at(-1),j=f.data.content;st(ge,j)&&t(0,f.data.versions=f.data.versions.slice(0,-1),f)}}function h(c){if(!(!f.data.versions||f.data.versions.length===0)){if(I===null){const w=f.data.versions.at(-1),C=f.data.content;st(w,C)?t(3,I=f.data.versions.length):(gt(f),t(3,I=f.data.versions.length-1))}c==="prev"?I>0&&t(3,I-=1):c==="next"&&(I<f.data.versions.length-1?t(3,I+=1):t(3,I=null),I===f.data.versions.length-1&&t(3,I=null)),W(I)}}const z=async c=>{var J,ge;const w=xt(),C={type:"file",file:"",id:null,url:"",name:c.name,collection_name:"",status:"uploading",size:c.size,error:"",itemId:w};if(C.size==0)return ce.error(o.t("You cannot upload an empty file.")),null;t(2,g=[...g,C]);try{const j=await Jt(localStorage.token,c);j?(console.log("File upload completed:",{id:j.id,name:C.name,collection:(J=j==null?void 0:j.meta)==null?void 0:J.collection_name}),j.error&&(console.warn("File upload warning:",j.error),ce.warning(j.error)),C.status="uploaded",C.file=j,C.id=j.id,C.collection_name=((ge=j==null?void 0:j.meta)==null?void 0:ge.collection_name)||(j==null?void 0:j.collection_name),C.url=`${Lt}/files/${j.id}`,t(2,g)):t(2,g=g.filter(te=>(te==null?void 0:te.itemId)!==w))}catch(j){ce.error(`${j}`),t(2,g=g.filter(te=>(te==null?void 0:te.itemId)!==w))}g.length>0?t(0,f.data.files=g,f):t(0,f.data.files=null,f)},se=async c=>{console.log("Input files handler called with:",c),c.forEach(w=>{var C,J,ge,j;if(console.log("Processing file:",{name:w.name,type:w.type,size:w.size,extension:w.name.split(".").at(-1)}),(((C=s==null?void 0:s.file)==null?void 0:C.max_size)??null)!==null&&w.size>(((J=s==null?void 0:s.file)==null?void 0:J.max_size)??0)*1024*1024){console.log("File exceeds max size limit:",{fileSize:w.size,maxSize:(((ge=s==null?void 0:s.file)==null?void 0:ge.max_size)??0)*1024*1024}),ce.error(o.t("File size should not exceed {{maxSize}} MB.",{maxSize:(j=s==null?void 0:s.file)==null?void 0:j.max_size}));return}if(["image/gif","image/webp","image/jpeg","image/png","image/avif"].includes(w.type)){let te=new FileReader;te.onload=async ve=>{var me,_e;let we=ve.target.result;if((l==null?void 0:l.imageCompression)??!1){const be=((me=l==null?void 0:l.imageCompressionSize)==null?void 0:me.width)??null,Ue=((_e=l==null?void 0:l.imageCompressionSize)==null?void 0:_e.height)??null;(be||Ue)&&(we=await Gt(we,be,Ue))}t(2,g=[...g,{type:"image",url:`${we}`}]),t(0,f.data.files=g,f)},te.readAsDataURL(w)}else z(w)})},Z=async c=>{if(console.log("downloadHandler",c),c==="md"){const w=new Blob([f.data.content.md],{type:"text/markdown"});u(w,`${f.title}.md`)}else c==="pdf"&&await ie(f)},ie=async c=>{var w,C;try{const j=((C=(w=c.data)==null?void 0:w.content)==null?void 0:C.html)??"";let te;j instanceof HTMLElement?te=j:(te=document.createElement("div"),te.innerHTML=j,document.body.appendChild(te));const ve=await jt(te,{useCORS:!0,scale:2,width:1024,windowWidth:1024,windowHeight:1400});j instanceof HTMLElement||document.body.removeChild(te);const we=ve.toDataURL("image/png"),me=new At("p","mm","a4"),_e=210,be=297,Ue=ve.height*_e/ve.width;let et=Ue,tt=0;for(me.addImage(we,"PNG",0,tt,_e,Ue),et-=be;et>0;)tt-=be,me.addPage(),me.addImage(we,"PNG",0,tt,_e,Ue),et-=be;me.save(`${c.title}.pdf`)}catch(J){console.error("Error generating PDF",J),ce.error(`${J}`)}},re=async c=>{await en(localStorage.token,c).catch(C=>(ce.error(`${C}`),null))?(ce.success(o.t("Note deleted successfully")),ot("/notes")):ce.error(o.t("Failed to delete note"))},le=()=>{const c=document.getElementById("note-content-container");c&&(c.scrollTop=c==null?void 0:c.scrollHeight)},he=async c=>{let w={json:null,html:"",md:""};const C=`Enhance existing notes using additional context provided from audio transcription or uploaded file content. Your task is to make the notes more useful and comprehensive by incorporating relevant information from the provided context.

Input will be provided within <notes> and <context> XML tags, providing a structure for the existing notes and context respectively.

# Output Format

Provide the enhanced notes in markdown format. Use markdown syntax for headings, lists, and emphasis to improve clarity and presentation. Ensure that all integrated content from the context is accurately reflected. Return only the markdown formatted note.
`,[J,ge]=await bn(localStorage.token,{model:c.id,stream:!0,messages:[{role:"system",content:C},{role:"user",content:`<notes>${f.data.content.md}</notes>`+(g&&g.length>0?`
<context>${g.map(j=>{var te,ve;return`${j.name}: ${((ve=(te=j==null?void 0:j.file)==null?void 0:te.data)==null?void 0:ve.content)??"Could not extract content"}
`}).join("")}</context>`:"")}]},`${Ft}/api`);if(await rt(),t(12,Q=!0),J&&J.ok){const j=J.body.pipeThrough(new TextDecoderStream).pipeThrough(Zt(`
`)).getReader();for(;;){const{value:te,done:ve}=await j.read();if(ve)break;try{let we=te.split(`
`);for(const me of we)if(me!=="")if(console.log(me),me==="data: [DONE]")console.log(me);else{let _e=JSON.parse(me.replace(/^data: /,""));if(console.log(_e),_e.choices&&_e.choices.length>0){const be=_e.choices[0];be.delta&&be.delta.content&&(w.md+=be.delta.content,w.html=Ut.parse(w.md),t(0,f.data.content.md=w.md,f),t(0,f.data.content.html=w.html,f),t(0,f.data.content.json=null,f),le())}}}catch(we){console.log(we)}}}t(12,Q=!1)},Oe=c=>{var w,C;c.preventDefault(),(C=(w=c.dataTransfer)==null?void 0:w.types)!=null&&C.includes("Files")?t(9,K=!0):t(9,K=!1)},X=()=>{t(9,K=!1)},oe=async c=>{var w,C;if(c.preventDefault(),console.log(c),(w=c.dataTransfer)!=null&&w.files){const J=Array.from((C=c.dataTransfer)==null?void 0:C.files);J&&J.length>0&&(console.log(J),se(J))}t(9,K=!1)};Vt(async()=>{await rt(),l!=null&&l.models?t(4,k=l==null?void 0:l.models[0]):s!=null&&s.default_models?t(4,k=s==null?void 0:s.default_models.split(",")[0]):t(4,k=""),k&&(n.filter(C=>{var J,ge;return C.id===k&&!(((ge=(J=C==null?void 0:C.info)==null?void 0:J.meta)==null?void 0:ge.hidden)??!1)}).find(C=>C.id===k)||t(4,k=""));const c=document.getElementById("note-editor");c==null||c.addEventListener("dragover",Oe),c==null||c.addEventListener("drop",oe),c==null||c.addEventListener("dragleave",X)}),Wt(()=>{console.log("destroy");const c=document.getElementById("note-editor");c&&(c==null||c.removeEventListener("dragover",Oe),c==null||c.removeEventListener("drop",oe),c==null||c.removeEventListener("dragleave",X))});function ee(c){T=c,t(8,T)}const Ke=()=>{re(f.id),t(8,T=!1)},xe=()=>{t(7,U=!U)};function Ze(){k=zt(this),t(4,k)}function qe(c){U=c,t(7,U)}function Ge(){f.title=this.value,t(0,f)}const Je=()=>{h("prev")},B=()=>{h("next")},H=c=>{Z(c)},ye=async()=>{await qt(f.data.content.md).catch(w=>(ce.error(`${w}`),null))&&ce.success(o.t("Copied to clipboard"))},de=()=>{t(8,T=!0)},pe=()=>{t(7,U=!U)},We=c=>{t(2,g=g.filter((w,C)=>C!==c)),t(0,f.data.files=g.length>0?g:null,f)},ze=c=>{t(2,g=g.filter(w=>(w==null?void 0:w.id)!==c.id)),t(0,f.data.files=g.length>0?g:null,f)},Ce=c=>{t(0,f.data.content.html=c.html,f),t(0,f.data.content.md=c.md,f)};function je(c){r.$$.not_equal(f.data.content.json,c)&&(f.data.content.json=c,t(0,f))}const Ye=()=>{t(5,E=!1),t(6,V=!1)},Ae=c=>{c!=null&&c.file&&z(c==null?void 0:c.file),t(5,E=!1),t(6,V=!1)};function Te(c){E=c,t(5,E)}const yt=async()=>{t(6,V=!1);try{let c=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(w){return ce.error(o.t("Permission denied when accessing microphone: {{error}}",{error:w})),null});c&&(t(5,E=!0),c.getTracks().forEach(C=>C.stop())),c=null}catch{ce.error(o.t("Permission denied when accessing microphone"))}},Ct=async()=>{t(6,V=!0),t(5,E=!0)},It=async()=>{const c=document.createElement("input");c.type="file",c.accept="audio/*",c.multiple=!1,c.click(),c.onchange=async w=>{const C=w.target.files;C&&C.length>0&&await z(C[0])}},Dt=()=>{N()};return r.$$set=c=>{"id"in c&&t(21,p=c.id)},r.$$.update=()=>{r.$$.dirty[0]&2&&v(o.languages),r.$$.dirty[0]&1&&f&&S(),r.$$.dirty[0]&2097152&&p&&A()},[f,o,g,I,k,E,V,U,T,K,Y,ne,Q,n,a,m,N,h,z,Z,re,p,ee,Ke,xe,Ze,qe,Ge,Je,B,H,ye,de,pe,We,ze,Ce,je,Ye,Ae,Te,yt,Ct,It,Dt]}class ds extends Ne{constructor(e){super(),$e(this,e,us,fs,Ee,{id:21},null,[-1,-1,-1])}}function ms(r){let e,t;return e=new ds({props:{id:r[0].params.id}}),{c(){P(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,s){F(e,n,s),t=!0},p(n,[s]){const l={};s&1&&(l.id=n[0].params.id),e.$set(l)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){M(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function hs(r,e,t){let n;return Be(r,Mt,s=>t(0,n=s)),[n]}class qs extends Ne{constructor(e){super(),$e(this,e,hs,ms,Ee,{})}}export{qs as component};
//# sourceMappingURL=20.BJ5jA8Fk.js.map
