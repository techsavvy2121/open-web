import{s as yt,E as Ae,F as Pe,a as M,d,f as h,i as z,g as y,n as _e,z as Et,B as Ct,j as ke,p as It,M as Tt,q as Mt,k as q,o as U,D as je,e as V,c as C,r as Nt,v as zt,w as Ot,x as Bt,Q as Ee,t as J,b as Q,h as X,C as Le,u as se,I as $t,G as $e,y as He}from"./BDiUIGvQ.js";import{S as Dt,i as Vt,f as St,b as ee,d as te,m as le,t as T,a as A,e as ne,g as fe,c as ce}from"./CMw2dQw9.js";import{e as me}from"./DgmbscGK.js";import"./Ce19VtxD.js";import{M as At,a as Pt,b as jt}from"./Db3fZeOE.js";import{m as qe}from"./5uy4Zm2q.js";import{F as Lt}from"./CU2r43ac.js";import{f as Ht}from"./g5t9vw8M.js";import{C as qt}from"./BZH8uq8K.js";import{C as Ut}from"./DI-gbz9w.js";import{S as Zt}from"./Cj5VtraF.js";import{g as Wt,p as Ft,d as Gt}from"./DAmmL8ps.js";import{M as ye,b as Yt,c as Rt,j as Jt,u as Qt,n as Ue,m as Kt}from"./0WLtkgvg.js";import{t as he}from"./CCWCPRcv.js";import{h as Xt,i as Ze}from"./CXA2wbo1.js";import{g as xt}from"./CkdqFX_w.js";import{T as ge}from"./DZF3XBRY.js";import{S as el}from"./CnDhTgBW.js";import{g as tl}from"./S4kmFmNp.js";function ll(n){let e,t;return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(l){e=Pe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=M(e);t=Pe(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),M(t).forEach(d),r.forEach(d),this.h()},h(){h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"stroke-width",n[1]),h(e,"stroke","currentColor"),h(e,"class",n[0])},m(l,r){z(l,e,r),y(e,t)},p(l,[r]){r&2&&h(e,"stroke-width",l[1]),r&1&&h(e,"class",l[0])},i:_e,o:_e,d(l){l&&d(e)}}}function nl(n,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return n.$$set=a=>{"className"in a&&t(0,l=a.className),"strokeWidth"in a&&t(1,r=a.strokeWidth)},[l,r]}class rl extends Dt{constructor(e){super(),Vt(this,e,nl,ll,yt,{className:0,strokeWidth:1})}}function We(n,e,t){const l=n.slice();return l[48]=e[t],l}function Fe(n,e,t){const l=n.slice();return l[51]=e[t],l[53]=t,l}function Ge(n,e,t){const l=n.slice();return l[54]=e[t],l}function Ye(n,e,t){const l=n.slice();return l[54]=e[t],l}function Re(n,e,t){const l=n.slice();return l[54]=e[t],l}function al(n){let e;return{c(){e=J(n[2])},l(t){e=Q(t,n[2])},m(t,l){z(t,e,l)},p(t,l){l[0]&4&&X(e,t[2])},d(t){t&&d(e)}}}function ol(n){let e=n[15].label+"",t;return{c(){t=J(e)},l(l){t=Q(l,e)},m(l,r){z(l,t,r)},p(l,r){r[0]&32768&&e!==(e=l[15].label+"")&&X(t,e)},d(l){l&&d(t)}}}function sl(n){let e,t,l,r,a;function o(u,f){return u[15]?ol:al}let s=o(n),i=s(n);return l=new qt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=V("div"),i.c(),t=q(),ee(l.$$.fragment),this.h()},l(u){e=C(u,"DIV",{class:!0});var f=M(e);i.l(f),t=U(f),te(l.$$.fragment,f),f.forEach(d),this.h()},h(){h(e,"class",r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+n[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(u,f){z(u,e,f),i.m(e,null),y(e,t),le(l,e,null),a=!0},p(u,f){s===(s=o(u))&&i?i.p(u,f):(i.d(1),i=s(u),i&&(i.c(),i.m(e,t))),(!a||f[0]&256&&r!==(r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+u[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&h(e,"class",r)},i(u){a||(T(l.$$.fragment,u),a=!0)},o(u){A(l.$$.fragment,u),a=!1},d(u){u&&d(e),i.d(),ne(l)}}}function Je(n){let e,t,l,r,a,o,s;return t=new Zt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=V("div"),ee(t.$$.fragment),l=q(),r=V("input"),this.h()},l(i){e=C(i,"DIV",{class:!0});var u=M(e);te(t.$$.fragment,u),l=U(u),r=C(u,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),u.forEach(d),this.h()},h(){h(r,"id","model-search-input"),h(r,"class","w-full text-sm bg-transparent outline-hidden"),h(r,"placeholder",n[4]),h(r,"autocomplete","off"),h(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(i,u){z(i,e,u),le(t,e,null),y(e,l),y(e,r),Le(r,n[9]),a=!0,o||(s=[se(r,"input",n[29]),se(r,"keydown",n[30])],o=!0)},p(i,u){(!a||u[0]&16)&&h(r,"placeholder",i[4]),u[0]&512&&r.value!==i[9]&&Le(r,i[9])},i(i){a||(T(t.$$.fragment,i),a=!0)},o(i){A(t.$$.fragment,i),a=!1},d(i){i&&d(e),ne(t),o=!1,$t(s)}}}function Qe(n){let e,t,l=n[6].find(pt)&&n[6].find(vt)||n[6].find(bt)||n[14].length>0,r,a=n[6].find(_t)&&n[6].find(gt),o,s=n[6].find(ht),i,u,f,g=l&&Ke(n),w=a&&Xe(n),p=s&&xe(n),b=me(n[14]),E=[];for(let _=0;_<b.length;_+=1)E[_]=et(Re(n,b,_));return{c(){e=V("div"),t=V("div"),g&&g.c(),r=q(),w&&w.c(),o=q(),p&&p.c(),i=q();for(let _=0;_<E.length;_+=1)E[_].c();this.h()},l(_){e=C(_,"DIV",{class:!0});var D=M(e);t=C(D,"DIV",{class:!0});var k=M(t);g&&g.l(k),r=U(k),w&&w.l(k),o=U(k),p&&p.l(k),i=U(k);for(let I=0;I<E.length;I+=1)E[I].l(k);k.forEach(d),D.forEach(d),this.h()},h(){h(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),h(e,"class","flex w-full sticky top-0 z-10 bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m(_,D){z(_,e,D),y(e,t),g&&g.m(t,null),y(t,r),w&&w.m(t,null),y(t,o),p&&p.m(t,null),y(t,i);for(let k=0;k<E.length;k+=1)E[k]&&E[k].m(t,null);n[36](t),u||(f=se(e,"wheel",$l),u=!0)},p(_,D){if(D[0]&16448&&(l=_[6].find(pt)&&_[6].find(vt)||_[6].find(bt)||_[14].length>0),l?g?g.p(_,D):(g=Ke(_),g.c(),g.m(t,r)):g&&(g.d(1),g=null),D[0]&64&&(a=_[6].find(_t)&&_[6].find(gt)),a?w?w.p(_,D):(w=Xe(_),w.c(),w.m(t,o)):w&&(w.d(1),w=null),D[0]&64&&(s=_[6].find(ht)),s?p?p.p(_,D):(p=xe(_),p.c(),p.m(t,i)):p&&(p.d(1),p=null),D[0]&19456){b=me(_[14]);let k;for(k=0;k<b.length;k+=1){const I=Re(_,b,k);E[k]?E[k].p(I,D):(E[k]=et(I),E[k].c(),E[k].m(t,null))}for(;k<E.length;k+=1)E[k].d(1);E.length=b.length}},d(_){_&&d(e),g&&g.d(),w&&w.d(),p&&p.d(),Ee(E,_),n[36](null),u=!1,f()}}}function Ke(n){let e,t=n[20].t("All")+"",l,r,a,o;return{c(){e=V("button"),l=J(t),this.h()},l(s){e=C(s,"BUTTON",{class:!0});var i=M(e);l=Q(i,t),i.forEach(d),this.h()},h(){h(e,"class",r="min-w-fit outline-none p-1.5 "+(n[10]===""&&n[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){z(s,e,i),y(e,l),a||(o=se(e,"click",n[31]),a=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("All")+"")&&X(l,t),i[0]&3072&&r!==(r="min-w-fit outline-none p-1.5 "+(s[10]===""&&s[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",r)},d(s){s&&d(e),a=!1,o()}}}function Xe(n){let e,t=n[20].t("Local")+"",l,r,a,o,s=n[20].t("External")+"",i,u,f,g;return{c(){e=V("button"),l=J(t),a=q(),o=V("button"),i=J(s),this.h()},l(w){e=C(w,"BUTTON",{class:!0});var p=M(e);l=Q(p,t),p.forEach(d),a=U(w),o=C(w,"BUTTON",{class:!0});var b=M(o);i=Q(b,s),b.forEach(d),this.h()},h(){h(e,"class",r="min-w-fit outline-none p-1.5 "+(n[11]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),h(o,"class",u="min-w-fit outline-none p-1.5 "+(n[11]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(w,p){z(w,e,p),y(e,l),z(w,a,p),z(w,o,p),y(o,i),f||(g=[se(e,"click",n[32]),se(o,"click",n[33])],f=!0)},p(w,p){p[0]&1048576&&t!==(t=w[20].t("Local")+"")&&X(l,t),p[0]&2048&&r!==(r="min-w-fit outline-none p-1.5 "+(w[11]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",r),p[0]&1048576&&s!==(s=w[20].t("External")+"")&&X(i,s),p[0]&2048&&u!==(u="min-w-fit outline-none p-1.5 "+(w[11]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(o,"class",u)},d(w){w&&(d(e),d(a),d(o)),f=!1,$t(g)}}}function xe(n){let e,t=n[20].t("Direct")+"",l,r,a,o;return{c(){e=V("button"),l=J(t),this.h()},l(s){e=C(s,"BUTTON",{class:!0});var i=M(e);l=Q(i,t),i.forEach(d),this.h()},h(){h(e,"class",r="min-w-fit outline-none p-1.5 "+(n[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){z(s,e,i),y(e,l),a||(o=se(e,"click",n[34]),a=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("Direct")+"")&&X(l,t),i[0]&2048&&r!==(r="min-w-fit outline-none p-1.5 "+(s[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",r)},d(s){s&&d(e),a=!1,o()}}}function et(n){let e,t=n[54]+"",l,r,a,o,s;function i(){return n[35](n[54])}return{c(){e=V("button"),l=J(t),r=q(),this.h()},l(u){e=C(u,"BUTTON",{class:!0});var f=M(e);l=Q(f,t),r=U(f),f.forEach(d),this.h()},h(){h(e,"class",a="min-w-fit outline-none p-1.5 "+(n[10]===n[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(u,f){z(u,e,f),y(e,l),y(e,r),o||(s=se(e,"click",i),o=!0)},p(u,f){n=u,f[0]&16384&&t!==(t=n[54]+"")&&X(l,t),f[0]&17408&&a!==(a="min-w-fit outline-none p-1.5 "+(n[10]===n[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&h(e,"class",a)},d(u){u&&d(e),o=!1,s()}}}function tt(n){let e,t,l=n[20].t("No results found")+"",r;return{c(){e=V("div"),t=V("div"),r=J(l),this.h()},l(a){e=C(a,"DIV",{class:!0});var o=M(e);t=C(o,"DIV",{class:!0});var s=M(t);r=Q(s,l),s.forEach(d),o.forEach(d),this.h()},h(){h(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100"),h(e,"class","")},m(a,o){z(a,e,o),y(e,t),y(t,r)},p(a,o){o[0]&1048576&&l!==(l=a[20].t("No results found")+"")&&X(r,l)},d(a){a&&d(e)}}}function lt(n){var r;let e,t=me((r=n[51].model)==null?void 0:r.tags.sort(wt)),l=[];for(let a=0;a<t.length;a+=1)l[a]=nt(Ye(n,t,a));return{c(){e=V("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=C(a,"DIV",{class:!0});var o=M(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(d),this.h()},h(){h(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(a,o){z(a,e,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(a,o){var s;if(o[0]&262144){t=me((s=a[51].model)==null?void 0:s.tags.sort(wt));let i;for(i=0;i<t.length;i+=1){const u=Ye(a,t,i);l[i]?l[i].p(u,o):(l[i]=nt(u),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(a){a&&d(e),Ee(l,a)}}}function nt(n){let e,t=n[54].name+"",l,r;return{c(){e=V("div"),l=J(t),r=q(),this.h()},l(a){e=C(a,"DIV",{class:!0});var o=M(e);l=Q(o,t),r=U(o),o.forEach(d),this.h()},h(){h(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(a,o){z(a,e,o),y(e,l),y(e,r)},p(a,o){o[0]&262144&&t!==(t=a[54].name+"")&&X(l,t)},d(a){a&&d(e)}}}function rt(n){var r,a,o,s,i,u;let e,t,l;return t=new ge({props:{content:`${(a=(r=n[51].model.ollama)==null?void 0:r.details)!=null&&a.quantization_level?((s=(o=n[51].model.ollama)==null?void 0:o.details)==null?void 0:s.quantization_level)+" ":""}${(i=n[51].model.ollama)!=null&&i.size?`(${(((u=n[51].model.ollama)==null?void 0:u.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[il]},$$scope:{ctx:n}}}),{c(){e=V("div"),ee(t.$$.fragment),this.h()},l(f){e=C(f,"DIV",{class:!0});var g=M(e);te(t.$$.fragment,g),g.forEach(d),this.h()},h(){h(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(f,g){z(f,e,g),le(t,e,null),l=!0},p(f,g){var p,b,E,_,D,k;const w={};g[0]&262144&&(w.content=`${(b=(p=f[51].model.ollama)==null?void 0:p.details)!=null&&b.quantization_level?((_=(E=f[51].model.ollama)==null?void 0:E.details)==null?void 0:_.quantization_level)+" ":""}${(D=f[51].model.ollama)!=null&&D.size?`(${(((k=f[51].model.ollama)==null?void 0:k.size)/1024**3).toFixed(1)}GB)`:""}`),g[0]&262144|g[1]&4096&&(w.$$scope={dirty:g,ctx:f}),t.$set(w)},i(f){l||(T(t.$$.fragment,f),l=!0)},o(f){A(t.$$.fragment,f),l=!1},d(f){f&&d(e),ne(t)}}}function il(n){var r,a;let e,t=(((a=(r=n[51].model.ollama)==null?void 0:r.details)==null?void 0:a.parameter_size)??"")+"",l;return{c(){e=V("span"),l=J(t),this.h()},l(o){e=C(o,"SPAN",{class:!0});var s=M(e);l=Q(s,t),s.forEach(d),this.h()},h(){h(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(o,s){z(o,e,s),y(e,l)},p(o,s){var i,u;s[0]&262144&&t!==(t=(((u=(i=o[51].model.ollama)==null?void 0:i.details)==null?void 0:u.parameter_size)??"")+"")&&X(l,t)},d(o){o&&d(e)}}}function fl(n){var g,w;let e,t,l,r,a,o=n[51].label+"",s,i,u,f=n[51].model.owned_by==="ollama"&&(((w=(g=n[51].model.ollama)==null?void 0:g.details)==null?void 0:w.parameter_size)??"")!==""&&rt(n);return{c(){e=V("img"),l=q(),r=V("div"),a=V("div"),s=J(o),i=q(),f&&f.c(),this.h()},l(p){e=C(p,"IMG",{src:!0,alt:!0,class:!0}),l=U(p),r=C(p,"DIV",{class:!0});var b=M(r);a=C(b,"DIV",{class:!0});var E=M(a);s=Q(E,o),E.forEach(d),i=U(b),f&&f.l(b),b.forEach(d),this.h()},h(){var p,b,E;He(e.src,t=((E=(b=(p=n[51].model)==null?void 0:p.info)==null?void 0:b.meta)==null?void 0:E.profile_image_url)??"/static/favicon.png")||h(e,"src",t),h(e,"alt","Model"),h(e,"class","rounded-full size-5 flex items-center mr-2"),h(a,"class","line-clamp-1"),h(r,"class","flex items-center line-clamp-1")},m(p,b){z(p,e,b),z(p,l,b),z(p,r,b),y(r,a),y(a,s),y(r,i),f&&f.m(r,null),u=!0},p(p,b){var E,_,D,k,I;(!u||b[0]&262144&&!He(e.src,t=((D=(_=(E=p[51].model)==null?void 0:E.info)==null?void 0:_.meta)==null?void 0:D.profile_image_url)??"/static/favicon.png"))&&h(e,"src",t),(!u||b[0]&262144)&&o!==(o=p[51].label+"")&&X(s,o),p[51].model.owned_by==="ollama"&&(((I=(k=p[51].model.ollama)==null?void 0:k.details)==null?void 0:I.parameter_size)??"")!==""?f?(f.p(p,b),b[0]&262144&&T(f,1)):(f=rt(p),f.c(),T(f,1),f.m(r,null)):f&&(fe(),A(f,1,1,()=>{f=null}),ce())},i(p){u||(T(f),u=!0)},o(p){A(f),u=!1},d(p){p&&(d(e),d(l),d(r)),f&&f.d()}}}function cl(n){let e,t;return e=new ge({props:{content:"External",$$slots:{default:[dl]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function ul(n){let e,t;return e=new ge({props:{content:"Direct",$$slots:{default:[ml]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function dl(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,r){z(l,e,r)},p:_e,d(l){l&&d(e)}}}function ml(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,r){z(l,e,r)},p:_e,d(l){l&&d(e)}}}function at(n){var l,r,a;let e,t;return e=new ge({props:{content:`${qe.parse(Ze((a=(r=(l=n[51].model)==null?void 0:l.info)==null?void 0:r.meta)==null?void 0:a.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[hl]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},l(o){te(e.$$.fragment,o)},m(o,s){le(e,o,s),t=!0},p(o,s){var u,f,g;const i={};s[0]&262144&&(i.content=`${qe.parse(Ze((g=(f=(u=o[51].model)==null?void 0:u.info)==null?void 0:f.meta)==null?void 0:g.description).replaceAll(`
`,"<br>"))}`),s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){t||(T(e.$$.fragment,o),t=!0)},o(o){A(e.$$.fragment,o),t=!1},d(o){ne(e,o)}}}function hl(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){h(e,"class","translate-y-[1px]")},m(l,r){z(l,e,r)},p:_e,d(l){l&&d(e)}}}function ot(n){var o;let e,t,l=me((o=n[51].model)==null?void 0:o.tags.sort(kt)),r=[];for(let s=0;s<l.length;s+=1)r[s]=st(Ge(n,l,s));const a=s=>A(r[s],1,1,()=>{r[s]=null});return{c(){e=V("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=C(s,"DIV",{class:!0});var i=M(e);for(let u=0;u<r.length;u+=1)r[u].l(i);i.forEach(d),this.h()},h(){h(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(s,i){z(s,e,i);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);t=!0},p(s,i){var u;if(i[0]&262144){l=me((u=s[51].model)==null?void 0:u.tags.sort(kt));let f;for(f=0;f<l.length;f+=1){const g=Ge(s,l,f);r[f]?(r[f].p(g,i),T(r[f],1)):(r[f]=st(g),r[f].c(),T(r[f],1),r[f].m(e,null))}for(fe(),f=l.length;f<r.length;f+=1)a(f);ce()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)T(r[i]);t=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)A(r[i]);t=!1},d(s){s&&d(e),Ee(r,s)}}}function _l(n){let e,t=n[54].name+"",l,r;return{c(){e=V("div"),l=J(t),r=q(),this.h()},l(a){e=C(a,"DIV",{class:!0});var o=M(e);l=Q(o,t),o.forEach(d),r=U(a),this.h()},h(){h(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(a,o){z(a,e,o),y(e,l),z(a,r,o)},p(a,o){o[0]&262144&&t!==(t=a[54].name+"")&&X(l,t)},d(a){a&&(d(e),d(r))}}}function st(n){let e,t;return e=new ge({props:{content:n[54].name,className:"flex-shrink-0",$$slots:{default:[_l]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},p(l,r){const a={};r[0]&262144&&(a.content=l[54].name),r[0]&262144|r[1]&4096&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function it(n){let e,t,l;return t=new Ut({}),{c(){e=V("div"),ee(t.$$.fragment),this.h()},l(r){e=C(r,"DIV",{class:!0});var a=M(e);te(t.$$.fragment,a),a.forEach(d),this.h()},h(){h(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(r,a){z(r,e,a),le(t,e,null),l=!0},i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&d(e),ne(t)}}}function ft(n){var Z,m,v,W,ue,P,ie,De,Ve;let e,t,l,r,a,o,s,i,u,f,g,w,p,b,E,_,D,k,I,Y,O=n[21]&&(((m=(Z=n[51])==null?void 0:Z.model)==null?void 0:m.tags)??[]).length>0&&lt(n);i=new ge({props:{content:((v=n[22])==null?void 0:v.role)==="admin"?((W=n[51])==null?void 0:W.value)??"":"",placement:"top-start",$$slots:{default:[fl]},$$scope:{ctx:n}}});const H=[ul,cl],j=[];function $(x,G){var ae;return(ae=x[51].model)!=null&&ae.direct?0:x[51].model.owned_by==="openai"?1:-1}~(f=$(n))&&(g=j[f]=H[f](n));let N=((ie=(P=(ue=n[51].model)==null?void 0:ue.info)==null?void 0:P.meta)==null?void 0:ie.description)&&at(n),L=!n[21]&&(((Ve=(De=n[51])==null?void 0:De.model)==null?void 0:Ve.tags)??[]).length>0&&ot(n),B=n[0]===n[51].value&&it();function R(){return n[37](n[51],n[53])}return{c(){e=V("button"),t=V("div"),O&&O.c(),l=q(),r=V("div"),a=V("div"),o=V("div"),s=V("div"),ee(i.$$.fragment),u=q(),g&&g.c(),w=q(),N&&N.c(),p=q(),L&&L.c(),b=q(),B&&B.c(),this.h()},l(x){e=C(x,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var G=M(e);t=C(G,"DIV",{class:!0});var ae=M(t);O&&O.l(ae),l=U(ae),r=C(ae,"DIV",{class:!0});var re=M(r);a=C(re,"DIV",{class:!0});var pe=M(a);o=C(pe,"DIV",{class:!0});var ve=M(o);s=C(ve,"DIV",{class:!0});var be=M(s);te(i.$$.fragment,be),be.forEach(d),ve.forEach(d),pe.forEach(d),u=U(re),g&&g.l(re),w=U(re),N&&N.l(re),p=U(re),L&&L.l(re),re.forEach(d),ae.forEach(d),b=U(G),B&&B.l(G),G.forEach(d),this.h()},h(){h(s,"class","flex items-center min-w-fit"),h(o,"class","line-clamp-1"),h(a,"class","flex items-center min-w-fit"),h(r,"class","flex items-center gap-2"),h(t,"class","flex flex-col"),h(e,"aria-label","model-item"),h(e,"class",E="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(n[53]===n[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),h(e,"data-arrow-selected",_=n[53]===n[17]),h(e,"data-value",D=n[51].value)},m(x,G){z(x,e,G),y(e,t),O&&O.m(t,null),y(t,l),y(t,r),y(r,a),y(a,o),y(o,s),le(i,s,null),y(r,u),~f&&j[f].m(r,null),y(r,w),N&&N.m(r,null),y(r,p),L&&L.m(r,null),y(e,b),B&&B.m(e,null),k=!0,I||(Y=se(e,"click",R),I=!0)},p(x,G){var pe,ve,be,Ce,Ie,Te,Me,Ne,c;n=x,n[21]&&(((ve=(pe=n[51])==null?void 0:pe.model)==null?void 0:ve.tags)??[]).length>0?O?O.p(n,G):(O=lt(n),O.c(),O.m(t,l)):O&&(O.d(1),O=null);const ae={};G[0]&4456448&&(ae.content=((be=n[22])==null?void 0:be.role)==="admin"?((Ce=n[51])==null?void 0:Ce.value)??"":""),G[0]&262144|G[1]&4096&&(ae.$$scope={dirty:G,ctx:n}),i.$set(ae);let re=f;f=$(n),f!==re&&(g&&(fe(),A(j[re],1,1,()=>{j[re]=null}),ce()),~f?(g=j[f],g||(g=j[f]=H[f](n),g.c()),T(g,1),g.m(r,w)):g=null),(Me=(Te=(Ie=n[51].model)==null?void 0:Ie.info)==null?void 0:Te.meta)!=null&&Me.description?N?(N.p(n,G),G[0]&262144&&T(N,1)):(N=at(n),N.c(),T(N,1),N.m(r,p)):N&&(fe(),A(N,1,1,()=>{N=null}),ce()),!n[21]&&(((c=(Ne=n[51])==null?void 0:Ne.model)==null?void 0:c.tags)??[]).length>0?L?(L.p(n,G),G[0]&2359296&&T(L,1)):(L=ot(n),L.c(),T(L,1),L.m(r,null)):L&&(fe(),A(L,1,1,()=>{L=null}),ce()),n[0]===n[51].value?B?G[0]&262145&&T(B,1):(B=it(),B.c(),T(B,1),B.m(e,null)):B&&(fe(),A(B,1,1,()=>{B=null}),ce()),(!k||G[0]&131072&&E!==(E="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(n[53]===n[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&h(e,"class",E),(!k||G[0]&131072&&_!==(_=n[53]===n[17]))&&h(e,"data-arrow-selected",_),(!k||G[0]&262144&&D!==(D=n[51].value))&&h(e,"data-value",D)},i(x){k||(T(i.$$.fragment,x),T(g),T(N),T(L),T(B),k=!0)},o(x){A(i.$$.fragment,x),A(g),A(N),A(L),A(B),k=!1},d(x){x&&d(e),O&&O.d(),ne(i),~f&&j[f].d(),N&&N.d(),L&&L.d(),B&&B.d(),I=!1,Y()}}}function ct(n){let e,t;return e=new ge({props:{content:n[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:n[9]}),placement:"top-start",$$slots:{default:[gl]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,r){le(e,l,r),t=!0},p(l,r){const a={};r[0]&1049088&&(a.content=l[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[9]})),r[0]&1049088|r[1]&4096&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function gl(n){let e,t,l=n[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:n[9]})+"",r,a,o;return{c(){e=V("button"),t=V("div"),r=J(l),this.h()},l(s){e=C(s,"BUTTON",{class:!0});var i=M(e);t=C(i,"DIV",{class:!0});var u=M(t);r=Q(u,l),u.forEach(d),i.forEach(d),this.h()},h(){h(t,"class","truncate"),h(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){z(s,e,i),y(e,t),y(t,r),a||(o=se(e,"click",n[38]),a=!0)},p(s,i){i[0]&1049088&&l!==(l=s[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[9]})+"")&&X(r,l)},d(s){s&&d(e),a=!1,o()}}}function ut(n){let e,t=n[19][n[48]].digest+"",l;return{c(){e=V("div"),l=J(t),this.h()},l(r){e=C(r,"DIV",{class:!0});var a=M(e);l=Q(a,t),a.forEach(d),this.h()},h(){h(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(r,a){z(r,e,a),y(e,l)},p(r,a){a[0]&524288&&t!==(t=r[19][r[48]].digest+"")&&X(l,t)},d(r){r&&d(e)}}}function pl(n){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,r;function a(){return n[39](n[48])}return{c(){e=V("button"),e.innerHTML=t,this.h()},l(o){e=C(o,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){h(e,"class","text-gray-800 dark:text-gray-100")},m(o,s){z(o,e,s),l||(r=se(e,"click",a),l=!0)},p(o,s){n=o},d(o){o&&d(e),l=!1,r()}}}function dt(n){let e,t,l,r=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,a,o,s,i,u,f=n[48]+"",g,w,p,b,E="pullProgress"in n[19][n[48]]?`(${n[19][n[48]].pullProgress}%)`:"",_,D,k,I,Y,O,H,j="digest"in n[19][n[48]]&&n[19][n[48]].digest&&ut(n);return Y=new ge({props:{content:n[20].t("Cancel"),$$slots:{default:[pl]},$$scope:{ctx:n}}}),{c(){e=V("div"),t=V("div"),l=V("div"),l.innerHTML=r,a=q(),o=V("div"),s=V("div"),i=V("div"),u=J('Downloading "'),g=J(f),w=J('"'),p=q(),b=V("div"),_=J(E),D=q(),j&&j.c(),k=q(),I=V("div"),ee(Y.$$.fragment),O=q(),this.h()},l($){e=C($,"DIV",{class:!0});var N=M(e);t=C(N,"DIV",{class:!0});var L=M(t);l=C(L,"DIV",{class:!0,"data-svelte-h":!0}),$e(l)!=="svelte-102rp4j"&&(l.innerHTML=r),a=U(L),o=C(L,"DIV",{class:!0});var B=M(o);s=C(B,"DIV",{class:!0});var R=M(s);i=C(R,"DIV",{class:!0});var Z=M(i);u=Q(Z,'Downloading "'),g=Q(Z,f),w=Q(Z,'"'),Z.forEach(d),p=U(R),b=C(R,"DIV",{class:!0});var m=M(b);_=Q(m,E),m.forEach(d),R.forEach(d),D=U(B),j&&j.l(B),B.forEach(d),L.forEach(d),k=U(N),I=C(N,"DIV",{class:!0});var v=M(I);te(Y.$$.fragment,v),v.forEach(d),O=U(N),N.forEach(d),this.h()},h(){h(l,"class","-ml-2 mr-2.5 translate-y-0.5"),h(i,"class","line-clamp-1"),h(b,"class","shrink-0"),h(s,"class","flex gap-1"),h(o,"class","flex flex-col self-start"),h(t,"class","flex"),h(I,"class","mr-2 ml-1 translate-y-0.5"),h(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m($,N){z($,e,N),y(e,t),y(t,l),y(t,a),y(t,o),y(o,s),y(s,i),y(i,u),y(i,g),y(i,w),y(s,p),y(s,b),y(b,_),y(o,D),j&&j.m(o,null),y(e,k),y(e,I),le(Y,I,null),y(e,O),H=!0},p($,N){(!H||N[0]&524288)&&f!==(f=$[48]+"")&&X(g,f),(!H||N[0]&524288)&&E!==(E="pullProgress"in $[19][$[48]]?`(${$[19][$[48]].pullProgress}%)`:"")&&X(_,E),"digest"in $[19][$[48]]&&$[19][$[48]].digest?j?j.p($,N):(j=ut($),j.c(),j.m(o,null)):j&&(j.d(1),j=null);const L={};N[0]&1048576&&(L.content=$[20].t("Cancel")),N[0]&524288|N[1]&4096&&(L.$$scope={dirty:N,ctx:$}),Y.$set(L)},i($){H||(T(Y.$$.fragment,$),H=!0)},o($){A(Y.$$.fragment,$),H=!1},d($){$&&d(e),j&&j.d(),ne(Y)}}}function vl(n){let e;return{c(){e=V("div"),this.h()},l(t){e=C(t,"DIV",{class:!0}),M(e).forEach(d),this.h()},h(){h(e,"class","mb-3")},m(t,l){z(t,e,l)},p:_e,i:_e,o:_e,d(t){t&&d(e)}}}function bl(n){let e,t,l,r,a,o=n[20].t("Temporary Chat")+"",s,i,u,f,g,w,p;return r=new rl({props:{className:"size-4",strokeWidth:"2.5"}}),f=new el({props:{state:n[23]}}),{c(){e=V("div"),t=V("button"),l=V("div"),ee(r.$$.fragment),a=q(),s=J(o),i=q(),u=V("div"),ee(f.$$.fragment),this.h()},l(b){e=C(b,"DIV",{class:!0});var E=M(e);t=C(E,"BUTTON",{class:!0});var _=M(t);l=C(_,"DIV",{class:!0});var D=M(l);te(r.$$.fragment,D),a=U(D),s=Q(D,o),D.forEach(d),i=U(_),u=C(_,"DIV",{});var k=M(u);te(f.$$.fragment,k),k.forEach(d),_.forEach(d),E.forEach(d),this.h()},h(){h(l,"class","flex gap-2.5 items-center"),h(t,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),h(e,"class","flex items-center mx-2 mb-2")},m(b,E){z(b,e,E),y(e,t),y(t,l),le(r,l,null),y(l,a),y(l,s),y(t,i),y(t,u),le(f,u,null),g=!0,w||(p=se(t,"click",n[40]),w=!0)},p(b,E){(!g||E[0]&1048576)&&o!==(o=b[20].t("Temporary Chat")+"")&&X(s,o);const _={};E[0]&8388608&&(_.state=b[23]),f.$set(_)},i(b){g||(T(r.$$.fragment,b),T(f.$$.fragment,b),g=!0)},o(b){A(r.$$.fragment,b),A(f.$$.fragment,b),g=!1},d(b){b&&d(e),ne(r),ne(f),w=!1,p()}}}function wl(n){var Z;let e,t,l=n[14]&&n[6].filter(mt).length>0,r,a,o=!(n[9].trim()in n[19])&&n[9]&&n[16]&&((Z=n[22])==null?void 0:Z.role)==="admin",s,i,u,f,g,w,p,b,E,_=n[3]&&Je(n),D=l&&Qe(n),k=me(n[18]),I=[];for(let m=0;m<k.length;m+=1)I[m]=ft(Fe(n,k,m));const Y=m=>A(I[m],1,1,()=>{I[m]=null});let O=null;k.length||(O=tt(n));let H=o&&ct(n),j=me(Object.keys(n[19])),$=[];for(let m=0;m<j.length;m+=1)$[m]=dt(We(n,j,m));const N=m=>A($[m],1,1,()=>{$[m]=null}),L=[bl,vl],B=[];function R(m,v){return m[5]?0:1}return u=R(n),f=B[u]=L[u](n),{c(){_&&_.c(),e=q(),t=V("div"),D&&D.c(),r=q();for(let m=0;m<I.length;m+=1)I[m].c();O&&O.c(),a=q(),H&&H.c(),s=q();for(let m=0;m<$.length;m+=1)$[m].c();i=q(),f.c(),g=q(),w=V("div"),p=q(),b=V("div"),this.h()},l(m){_&&_.l(m),e=U(m),t=C(m,"DIV",{class:!0});var v=M(t);D&&D.l(v),r=U(v);for(let W=0;W<I.length;W+=1)I[W].l(v);O&&O.l(v),a=U(v),H&&H.l(v),s=U(v);for(let W=0;W<$.length;W+=1)$[W].l(v);v.forEach(d),i=U(m),f.l(m),g=U(m),w=C(m,"DIV",{class:!0}),M(w).forEach(d),p=U(m),b=C(m,"DIV",{class:!0}),M(b).forEach(d),this.h()},h(){h(t,"class","px-3 max-h-64 overflow-y-auto scrollbar-hidden group relative"),h(w,"class","hidden w-[42rem]"),h(b,"class","hidden w-[32rem]")},m(m,v){_&&_.m(m,v),z(m,e,v),z(m,t,v),D&&D.m(t,null),y(t,r);for(let W=0;W<I.length;W+=1)I[W]&&I[W].m(t,null);O&&O.m(t,null),y(t,a),H&&H.m(t,null),y(t,s);for(let W=0;W<$.length;W+=1)$[W]&&$[W].m(t,null);z(m,i,v),B[u].m(m,v),z(m,g,v),z(m,w,v),z(m,p,v),z(m,b,v),E=!0},p(m,v){var ue;if(m[3]?_?(_.p(m,v),v[0]&8&&T(_,1)):(_=Je(m),_.c(),T(_,1),_.m(e.parentNode,e)):_&&(fe(),A(_,1,1,()=>{_=null}),ce()),v[0]&16448&&(l=m[14]&&m[6].filter(mt).length>0),l?D?D.p(m,v):(D=Qe(m),D.c(),D.m(t,r)):D&&(D.d(1),D=null),v[0]&7741441){k=me(m[18]);let P;for(P=0;P<k.length;P+=1){const ie=Fe(m,k,P);I[P]?(I[P].p(ie,v),T(I[P],1)):(I[P]=ft(ie),I[P].c(),T(I[P],1),I[P].m(t,a))}for(fe(),P=k.length;P<I.length;P+=1)Y(P);ce(),!k.length&&O?O.p(m,v):k.length?O&&(O.d(1),O=null):(O=tt(m),O.c(),O.m(t,a))}if(v[0]&4784640&&(o=!(m[9].trim()in m[19])&&m[9]&&m[16]&&((ue=m[22])==null?void 0:ue.role)==="admin"),o?H?(H.p(m,v),v[0]&4784640&&T(H,1)):(H=ct(m),H.c(),T(H,1),H.m(t,s)):H&&(fe(),A(H,1,1,()=>{H=null}),ce()),v[0]&135790592){j=me(Object.keys(m[19]));let P;for(P=0;P<j.length;P+=1){const ie=We(m,j,P);$[P]?($[P].p(ie,v),T($[P],1)):($[P]=dt(ie),$[P].c(),T($[P],1),$[P].m(t,null))}for(fe(),P=j.length;P<$.length;P+=1)N(P);ce()}let W=u;u=R(m),u===W?B[u].p(m,v):(fe(),A(B[W],1,1,()=>{B[W]=null}),ce(),f=B[u],f?f.p(m,v):(f=B[u]=L[u](m),f.c()),T(f,1),f.m(g.parentNode,g))},i(m){if(!E){T(_);for(let v=0;v<k.length;v+=1)T(I[v]);T(H);for(let v=0;v<j.length;v+=1)T($[v]);T(f),E=!0}},o(m){A(_),I=I.filter(Boolean);for(let v=0;v<I.length;v+=1)A(I[v]);A(H),$=$.filter(Boolean);for(let v=0;v<$.length;v+=1)A($[v]);A(f),E=!1},d(m){m&&(d(e),d(t),d(i),d(g),d(w),d(p),d(b)),_&&_.d(m),D&&D.d(),Ee(I,m),O&&O.d(),H&&H.d(),Ee($,m),B[u].d(m)}}}function kl(n){let e;const t=n[28].default,l=Nt(t,n,n[43],null),r=l||wl(n);return{c(){r&&r.c()},l(a){r&&r.l(a)},m(a,o){r&&r.m(a,o),e=!0},p(a,o){l?l.p&&(!e||o[1]&4096)&&zt(l,t,a,a[43],e?Bt(t,a[43],o,null):Ot(a[43]),null):r&&r.p&&(!e||o[0]&16744057)&&r.p(a,e?o:[-1,-1])},i(a){e||(T(r,a),e=!0)},o(a){A(r,a),e=!1},d(a){r&&r.d(a)}}}function yl(n){let e,t,l,r;return e=new Pt({props:{class:"relative w-full font-primary","aria-label":n[2],id:"model-selector-"+n[1]+"-button",$$slots:{default:[sl]},$$scope:{ctx:n}}}),l=new jt({props:{class:" z-40 "+(n[21]?"w-full":`${n[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Ht,side:n[21]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[kl]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment),t=q(),ee(l.$$.fragment)},l(a){te(e.$$.fragment,a),t=U(a),te(l.$$.fragment,a)},m(a,o){le(e,a,o),z(a,t,o),le(l,a,o),r=!0},p(a,o){const s={};o[0]&4&&(s["aria-label"]=a[2]),o[0]&2&&(s.id="model-selector-"+a[1]+"-button"),o[0]&33028|o[1]&4096&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const i={};o[0]&2097280&&(i.class=" z-40 "+(a[21]?"w-full":`${a[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),o[0]&2097152&&(i.side=a[21]?"bottom":"bottom-start"),o[0]&16744057|o[1]&4096&&(i.$$scope={dirty:o,ctx:a}),l.$set(i)},i(a){r||(T(e.$$.fragment,a),T(l.$$.fragment,a),r=!0)},o(a){A(e.$$.fragment,a),A(l.$$.fragment,a),r=!1},d(a){a&&d(t),ne(e,a),ne(l,a)}}}function El(n){let e,t,l;function r(o){n[42](o)}let a={onOpenChange:n[41],closeFocus:!1,$$slots:{default:[yl]},$$scope:{ctx:n}};return n[13]!==void 0&&(a.open=n[13]),e=new At({props:a}),Et.push(()=>St(e,"open",r)),{c(){ee(e.$$.fragment)},l(o){te(e.$$.fragment,o)},m(o,s){le(e,o,s),l=!0},p(o,s){const i={};s[0]&512&&(i.onOpenChange=o[41]),s[0]&16777215|s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),!t&&s[0]&8192&&(t=!0,i.open=o[13],Ct(()=>t=!1)),e.$set(i)},i(o){l||(T(e.$$.fragment,o),l=!0)},o(o){A(e.$$.fragment,o),l=!1},d(o){ne(e,o)}}}const mt=n=>{var e,t,l;return!(((l=(t=(e=n.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},ht=n=>{var e;return(e=n.model)==null?void 0:e.direct},_t=n=>{var e;return((e=n.model)==null?void 0:e.connection_type)==="local"},gt=n=>{var e;return((e=n.model)==null?void 0:e.connection_type)==="external"},pt=n=>{var e;return((e=n.model)==null?void 0:e.connection_type)==="local"},vt=n=>{var e;return((e=n.model)==null?void 0:e.connection_type)==="external"},bt=n=>{var e;return(e=n.model)==null?void 0:e.direct},$l=n=>{n.deltaY!==0&&(n.preventDefault(),n.currentTarget.scrollLeft+=n.deltaY)},wt=(n,e)=>n.name.localeCompare(e.name),kt=(n,e)=>n.name.localeCompare(e.name);function Dl(n,e,t){let l,r,a,o,s,i,u,f;ke(n,ye,c=>t(19,r=c)),ke(n,Yt,c=>t(44,o=c)),ke(n,Rt,c=>t(45,s=c)),ke(n,Jt,c=>t(21,i=c)),ke(n,Qt,c=>t(22,u=c)),ke(n,Ue,c=>t(23,f=c));let{$$slots:g={},$$scope:w}=e;const p=It("i18n");ke(n,p,c=>t(20,a=c)),Tt();let{id:b=""}=e,{value:E=""}=e,{placeholder:_="Select a model"}=e,{searchEnabled:D=!0}=e,{searchPlaceholder:k=a.t("Search a model")}=e,{showTemporaryChatControl:I=!1}=e,{items:Y=[]}=e,{className:O="w-[32rem]"}=e,{triggerClassName:H="text-lg"}=e,j,$=!1,N=[],L="",B="",R="",Z="",m=null,v=0;const W=new Lt(Y.map(c=>{var F,K,we,de,ze;return{...c,modelName:(F=c.model)==null?void 0:F.name,tags:(((K=c.model)==null?void 0:K.tags)??[]).map(Oe=>Oe.name).join(" "),desc:(ze=(de=(we=c.model)==null?void 0:we.info)==null?void 0:de.meta)==null?void 0:ze.description}}),{keys:["value","tags","modelName"],threshold:.4}),ue=async()=>{await je();const c=l.findIndex(F=>F.value===E);c>=0?t(17,v=c):t(17,v=0),await je();const S=document.querySelector('[data-arrow-selected="true"]');S==null||S.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},P=async()=>{var K;const c=B.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(r),r[c]){he.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:c}));return}if(Object.keys(r).length===3){he.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[S,F]=await Ft(localStorage.token,c,"0").catch(we=>(he.error(`${we}`),null));if(S){const we=S.body.pipeThrough(new TextDecoderStream).pipeThrough(Xt(`
`)).getReader();for(ye.set({...r,[c]:{...r[c],abortController:F,reader:we,done:!1}});;)try{const{value:de,done:ze}=await we.read();if(ze)break;let Oe=de.split(`
`);for(const Se of Oe)if(Se!==""){let oe=JSON.parse(Se);if(console.log(oe),oe.error)throw oe.error;if(oe.detail)throw oe.detail;if(oe.status)if(oe.digest){let Be=0;oe.completed?Be=Math.round(oe.completed/oe.total*1e3)/10:Be=100,ye.set({...r,[c]:{...r[c],pullProgress:Be,digest:oe.digest}})}else he.success(oe.status),ye.set({...r,[c]:{...r[c],done:oe.status==="success"}})}}catch(de){console.log(de),typeof de!="string"&&(de=de.message),he.error(`${de}`);break}r[c].done?(he.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:c})),Kt.set(await xt(localStorage.token,((K=s==null?void 0:s.features)==null?void 0:K.enable_direct_connections)&&((o==null?void 0:o.directConnections)??null)))):he.error(a.t("Download canceled")),delete r[c],ye.set({...r})}};Mt(async()=>{t(16,m=await Wt(localStorage.token).catch(c=>!1)),Y&&(t(14,N=Y.filter(c=>{var S,F,K;return!(((K=(F=(S=c.model)==null?void 0:S.info)==null?void 0:F.meta)==null?void 0:K.hidden)??!1)}).flatMap(c=>{var S;return((S=c.model)==null?void 0:S.tags)??[]}).map(c=>c.name)),t(14,N=Array.from(new Set(N)).sort((c,S)=>c.localeCompare(S))))});const ie=async c=>{const{reader:S,abortController:F}=r[c];F&&F.abort(),S&&(await S.cancel(),delete r[c],ye.set({...r}),await Gt(localStorage.token,c),he.success(`${c} download has been canceled`))};function De(){B=this.value,t(9,B)}const Ve=c=>{if(c.code==="Enter"&&l.length>0){t(0,E=l[v].value),t(13,$=!1);return}else c.code==="ArrowDown"?t(17,v=Math.min(v+1,l.length-1)):c.code==="ArrowUp"?t(17,v=Math.max(v-1,0)):t(17,v=0);const S=document.querySelector('[data-arrow-selected="true"]');S==null||S.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},x=()=>{t(11,Z=""),t(10,R="")},G=()=>{t(10,R=""),t(11,Z="local")},ae=()=>{t(10,R=""),t(11,Z="external")},re=()=>{t(10,R=""),t(11,Z="direct")},pe=c=>{t(11,Z=""),t(10,R=c)};function ve(c){Et[c?"unshift":"push"](()=>{j=c,t(12,j)})}const be=(c,S)=>{t(0,E=c.value),t(17,v=S),t(13,$=!1)},Ce=()=>{P()},Ie=c=>{ie(c)},Te=async()=>{Ue.set(!f),await tl("/");const c=document.getElementById("new-chat-button");setTimeout(()=>{c==null||c.click()},0),f?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(13,$=!1)},Me=async()=>{t(9,B=""),window.setTimeout(()=>{var c;return(c=document.getElementById("model-search-input"))==null?void 0:c.focus()},0),ue()};function Ne(c){$=c,t(13,$)}return n.$$set=c=>{"id"in c&&t(1,b=c.id),"value"in c&&t(0,E=c.value),"placeholder"in c&&t(2,_=c.placeholder),"searchEnabled"in c&&t(3,D=c.searchEnabled),"searchPlaceholder"in c&&t(4,k=c.searchPlaceholder),"showTemporaryChatControl"in c&&t(5,I=c.showTemporaryChatControl),"items"in c&&t(6,Y=c.items),"className"in c&&t(7,O=c.className),"triggerClassName"in c&&t(8,H=c.triggerClassName),"$$scope"in c&&t(43,w=c.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&65&&t(15,L=Y.find(c=>c.value===E)??""),n.$$.dirty[0]&3648&&t(18,l=(B?W.search(B).map(c=>c.item).filter(c=>{var S;return R===""?!0:(((S=c.model)==null?void 0:S.tags)??[]).map(F=>F.name).includes(R)}).filter(c=>{var S,F,K;if(Z==="")return!0;if(Z==="local")return((S=c.model)==null?void 0:S.connection_type)==="local";if(Z==="external")return((F=c.model)==null?void 0:F.connection_type)==="external";if(Z==="direct")return(K=c.model)==null?void 0:K.direct}):Y.filter(c=>{var S;return R===""?!0:(((S=c.model)==null?void 0:S.tags)??[]).map(F=>F.name).includes(R)}).filter(c=>{var S,F,K;if(Z==="")return!0;if(Z==="local")return((S=c.model)==null?void 0:S.connection_type)==="local";if(Z==="external")return((F=c.model)==null?void 0:F.connection_type)==="external";if(Z==="direct")return(K=c.model)==null?void 0:K.direct})).filter(c=>{var S,F,K;return!(((K=(F=(S=c.model)==null?void 0:S.info)==null?void 0:F.meta)==null?void 0:K.hidden)??!1)})),n.$$.dirty[0]&3072&&ue()},[E,b,_,D,k,I,Y,O,H,B,R,Z,j,$,N,L,m,v,l,r,a,i,u,f,p,ue,P,ie,g,De,Ve,x,G,ae,re,pe,ve,be,Ce,Ie,Te,Me,Ne,w]}class Fl extends Dt{constructor(e){super(),Vt(this,e,Dl,El,yt,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8},null,[-1,-1])}}export{Fl as S};
//# sourceMappingURL=DIVfCMwN.js.map
