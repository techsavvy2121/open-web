import{s as pt,z as Re,k as N,e as u,t as C,o as T,c,a as g,d as i,b as A,f as r,i as Ve,g as e,u as fe,A as vt,B as We,h as W,j as ut,p as _t,q as gt,D as bt,G as dt,C as ye,I as wt}from"./BDiUIGvQ.js";import{S as kt,i as yt,f as Ye,b as Ce,d as Ae,m as Ee,t as De,a as Ie,e as Me}from"./CMw2dQw9.js";import{T as Ct}from"./T0MiTlyR.js";import{t as At}from"./CCWCPRcv.js";import{T as Et}from"./DZF3XBRY.js";import{A as Dt,L as It}from"./CYf3xcbt.js";import{u as Mt}from"./0WLtkgvg.js";import{s as Vt}from"./CXA2wbo1.js";function Pt(t){let l,s,m,S,I,_,o,k,q,p,b=t[7].t("Access")+"",E,M,y,D,V="/",B,d,L,O,v,Y;return k=new It({props:{strokeWidth:"2.5",className:"size-3.5"}}),{c(){l=u("div"),s=u("div"),m=u("input"),I=N(),_=u("div"),o=u("button"),Ce(k.$$.fragment),q=N(),p=u("div"),E=C(b),M=N(),y=u("div"),D=u("div"),D.textContent=V,B=N(),d=u("input"),this.h()},l(f){l=c(f,"DIV",{class:!0});var w=g(l);s=c(w,"DIV",{class:!0});var Z=g(s);m=c(Z,"INPUT",{class:!0,placeholder:!0}),I=T(Z),_=c(Z,"DIV",{class:!0});var n=g(_);o=c(n,"BUTTON",{class:!0,type:!0});var G=g(o);Ae(k.$$.fragment,G),q=T(G),p=c(G,"DIV",{class:!0});var K=g(p);E=A(K,b),K.forEach(i),G.forEach(i),n.forEach(i),Z.forEach(i),M=T(w),y=c(w,"DIV",{class:!0});var F=g(y);D=c(F,"DIV",{class:!0,"data-svelte-h":!0}),dt(D)!=="svelte-1x25scu"&&(D.textContent=V),B=T(F),d=c(F,"INPUT",{class:!0,placeholder:!0}),F.forEach(i),w.forEach(i),this.h()},h(){r(m,"class","text-2xl font-semibold w-full bg-transparent outline-hidden"),r(m,"placeholder",S=t[7].t("Title")),m.required=!0,r(p,"class","text-sm font-medium shrink-0"),r(o,"class","bg-gray-50 hover:bg-gray-100 text-black dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white transition px-2 py-1 rounded-full flex gap-1 items-center"),r(o,"type","button"),r(_,"class","self-center shrink-0"),r(s,"class","flex items-center"),r(D,"class",""),r(d,"class","w-full bg-transparent outline-hidden"),r(d,"placeholder",L=t[7].t("Command")),d.required=!0,d.disabled=t[0],r(y,"class","flex gap-0.5 items-center text-xs text-gray-500"),r(l,"class","flex flex-col w-full")},m(f,w){Ve(f,l,w),e(l,s),e(s,m),ye(m,t[1]),e(s,I),e(s,_),e(_,o),Ee(k,o,null),e(o,q),e(o,p),e(p,E),e(l,M),e(l,y),e(y,D),e(y,B),e(y,d),ye(d,t[3]),O=!0,v||(Y=[fe(m,"input",t[17]),fe(o,"click",t[18]),fe(d,"input",t[19]),fe(d,"input",t[10])],v=!0)},p(f,w){(!O||w&128&&S!==(S=f[7].t("Title")))&&r(m,"placeholder",S),w&2&&m.value!==f[1]&&ye(m,f[1]),(!O||w&128)&&b!==(b=f[7].t("Access")+"")&&W(E,b),(!O||w&128&&L!==(L=f[7].t("Command")))&&r(d,"placeholder",L),(!O||w&1)&&(d.disabled=f[0]),w&8&&d.value!==f[3]&&ye(d,f[3])},i(f){O||(De(k.$$.fragment,f),O=!0)},o(f){Ie(k.$$.fragment,f),O=!1},d(f){f&&i(l),Me(k),v=!1,wt(Y)}}}function ct(t){let l,s=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
									transform-origin: center;
									animation: spinner_AtaB 0.75s infinite linear;
								}
								@keyframes spinner_AtaB {
									100% {
										transform: rotate(360deg);
									}
								}
							</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){l=u("div"),l.innerHTML=s,this.h()},l(m){l=c(m,"DIV",{class:!0,"data-svelte-h":!0}),dt(l)!=="svelte-qf5fty"&&(l.innerHTML=s),this.h()},h(){r(l,"class","ml-1.5 self-center")},m(m,S){Ve(m,l,S)},d(m){m&&i(l)}}}function Nt(t){var et,tt,at,st;let l,s,m,S,I,_,o,k,q,p,b,E,M=t[7].t("Prompt Content")+"",y,D,V,B,d,L,O,v,Y,f=t[7].t("Format your variables using brackets like this:")+"",w,Z,n,G="{{",K,F=t[7].t("variable")+"",me,Ge="}}",Pe,Ne,se=t[7].t("Make sure to enclose them with")+"",he,Te,Q,Je="{{",Se,Oe,le=t[7].t("and")+"",pe,xe,X,Ke="}}",je,ze,Be,H,re=t[7].t("Utilize")+"",ve,$,Qe=" {{CLIPBOARD}}",qe,Ue,ne=t[7].t("variable to have them replaced with clipboard content.")+"",_e,Le,ee,z,te,oe=t[7].t("Save & Create")+"",ge,Ze,be,x,Fe,Xe;function ft(a){t[15](a)}function mt(a){t[16](a)}let He={accessRoles:["read","write"],allowPublic:((at=(tt=(et=t[8])==null?void 0:et.permissions)==null?void 0:tt.sharing)==null?void 0:at.public_prompts)||((st=t[8])==null?void 0:st.role)==="admin"};t[6]!==void 0&&(He.show=t[6]),t[5]!==void 0&&(He.accessControl=t[5]),l=new Dt({props:He}),Re.push(()=>Ye(l,"show",ft)),Re.push(()=>Ye(l,"accessControl",mt)),k=new Et({props:{content:`${t[7].t("Only alphanumeric characters and hyphens are allowed")} - ${t[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:t[3]})}`,placement:"bottom-start",$$slots:{default:[Pt]},$$scope:{ctx:t}}});function ht(a){t[20](a)}let $e={className:"text-sm w-full bg-transparent outline-hidden overflow-y-hidden resize-none",placeholder:t[7].t("Write a summary in 50 words that summarizes [topic or keyword]."),rows:6,required:!0};t[4]!==void 0&&($e.value=t[4]),d=new Ct({props:$e}),Re.push(()=>Ye(d,"value",ht));let P=t[2]&&ct();return{c(){Ce(l.$$.fragment),S=N(),I=u("div"),_=u("form"),o=u("div"),Ce(k.$$.fragment),q=N(),p=u("div"),b=u("div"),E=u("div"),y=C(M),D=N(),V=u("div"),B=u("div"),Ce(d.$$.fragment),O=N(),v=u("div"),Y=C("ⓘ "),w=C(f),Z=C(" "),n=u("span"),K=C(G),me=C(F),Pe=C(Ge),Ne=C(`.
					`),he=C(se),Te=N(),Q=u("span"),Se=C(Je),Oe=N(),pe=C(le),xe=N(),X=u("span"),je=C(Ke),ze=C("."),Be=N(),H=u("div"),ve=C(re),$=u("span"),qe=C(Qe),Ue=N(),_e=C(ne),Le=N(),ee=u("div"),z=u("button"),te=u("div"),ge=C(oe),Ze=N(),P&&P.c(),this.h()},l(a){Ae(l.$$.fragment,a),S=T(a),I=c(a,"DIV",{class:!0});var h=g(I);_=c(h,"FORM",{class:!0});var U=g(_);o=c(U,"DIV",{class:!0});var ae=g(o);Ae(k.$$.fragment,ae),ae.forEach(i),q=T(U),p=c(U,"DIV",{class:!0});var J=g(p);b=c(J,"DIV",{class:!0});var ie=g(b);E=c(ie,"DIV",{class:!0});var ue=g(E);y=A(ue,M),ue.forEach(i),ie.forEach(i),D=T(J),V=c(J,"DIV",{class:!0});var R=g(V);B=c(R,"DIV",{});var ce=g(B);Ae(d.$$.fragment,ce),ce.forEach(i),O=T(R),v=c(R,"DIV",{class:!0});var j=g(v);Y=A(j,"ⓘ "),w=A(j,f),Z=A(j," "),n=c(j,"SPAN",{class:!0});var we=g(n);K=A(we,G),me=A(we,F),Pe=A(we,Ge),we.forEach(i),Ne=A(j,`.
					`),he=A(j,se),Te=T(j),Q=c(j,"SPAN",{class:!0});var lt=g(Q);Se=A(lt,Je),lt.forEach(i),Oe=T(j),pe=A(j,le),xe=T(j),X=c(j,"SPAN",{class:!0});var rt=g(X);je=A(rt,Ke),rt.forEach(i),ze=A(j,"."),j.forEach(i),Be=T(R),H=c(R,"DIV",{class:!0});var de=g(H);ve=A(de,re),$=c(de,"SPAN",{class:!0});var nt=g($);qe=A(nt,Qe),nt.forEach(i),Ue=T(de),_e=A(de,ne),de.forEach(i),R.forEach(i),J.forEach(i),Le=T(U),ee=c(U,"DIV",{class:!0});var ot=g(ee);z=c(ot,"BUTTON",{class:!0,type:!0});var ke=g(z);te=c(ke,"DIV",{class:!0});var it=g(te);ge=A(it,oe),it.forEach(i),Ze=T(ke),P&&P.l(ke),ke.forEach(i),ot.forEach(i),U.forEach(i),h.forEach(i),this.h()},h(){r(o,"class","my-2"),r(E,"class","self-center text-sm font-semibold"),r(b,"class","flex w-full justify-between"),r(n,"class","text-gray-600 dark:text-gray-300 font-medium"),r(Q,"class","text-gray-600 dark:text-gray-300 font-medium"),r(X,"class","text-gray-600 dark:text-gray-300 font-medium"),r(v,"class","text-xs text-gray-400 dark:text-gray-500"),r($,"class","text-gray-600 dark:text-gray-300 font-medium"),r(H,"class","text-xs text-gray-400 dark:text-gray-500"),r(V,"class","mt-2"),r(p,"class","my-2"),r(te,"class","self-center font-medium"),r(z,"class",be="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(t[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"),r(z,"type","submit"),z.disabled=t[2],r(ee,"class","my-4 flex justify-end pb-20"),r(_,"class","flex flex-col w-full mb-10"),r(I,"class","w-full max-h-full flex justify-center")},m(a,h){Ee(l,a,h),Ve(a,S,h),Ve(a,I,h),e(I,_),e(_,o),Ee(k,o,null),e(_,q),e(_,p),e(p,b),e(b,E),e(E,y),e(p,D),e(p,V),e(V,B),Ee(d,B,null),e(V,O),e(V,v),e(v,Y),e(v,w),e(v,Z),e(v,n),e(n,K),e(n,me),e(n,Pe),e(v,Ne),e(v,he),e(v,Te),e(v,Q),e(Q,Se),e(v,Oe),e(v,pe),e(v,xe),e(v,X),e(X,je),e(v,ze),e(V,Be),e(V,H),e(H,ve),e(H,$),e($,qe),e(H,Ue),e(H,_e),e(_,Le),e(_,ee),e(ee,z),e(z,te),e(te,ge),e(z,Ze),P&&P.m(z,null),x=!0,Fe||(Xe=fe(_,"submit",vt(t[21])),Fe=!0)},p(a,[h]){var ie,ue,R,ce;const U={};h&256&&(U.allowPublic=((R=(ue=(ie=a[8])==null?void 0:ie.permissions)==null?void 0:ue.sharing)==null?void 0:R.public_prompts)||((ce=a[8])==null?void 0:ce.role)==="admin"),!s&&h&64&&(s=!0,U.show=a[6],We(()=>s=!1)),!m&&h&32&&(m=!0,U.accessControl=a[5],We(()=>m=!1)),l.$set(U);const ae={};h&136&&(ae.content=`${a[7].t("Only alphanumeric characters and hyphens are allowed")} - ${a[7].t('Activate this command by typing "/{{COMMAND}}" to chat input.',{COMMAND:a[3]})}`),h&8388811&&(ae.$$scope={dirty:h,ctx:a}),k.$set(ae),(!x||h&128)&&M!==(M=a[7].t("Prompt Content")+"")&&W(y,M);const J={};h&128&&(J.placeholder=a[7].t("Write a summary in 50 words that summarizes [topic or keyword].")),!L&&h&16&&(L=!0,J.value=a[4],We(()=>L=!1)),d.$set(J),(!x||h&128)&&f!==(f=a[7].t("Format your variables using brackets like this:")+"")&&W(w,f),(!x||h&128)&&F!==(F=a[7].t("variable")+"")&&W(me,F),(!x||h&128)&&se!==(se=a[7].t("Make sure to enclose them with")+"")&&W(he,se),(!x||h&128)&&le!==(le=a[7].t("and")+"")&&W(pe,le),(!x||h&128)&&re!==(re=a[7].t("Utilize")+"")&&W(ve,re),(!x||h&128)&&ne!==(ne=a[7].t("variable to have them replaced with clipboard content.")+"")&&W(_e,ne),(!x||h&128)&&oe!==(oe=a[7].t("Save & Create")+"")&&W(ge,oe),a[2]?P||(P=ct(),P.c(),P.m(z,null)):P&&(P.d(1),P=null),(!x||h&4&&be!==(be="text-sm w-full lg:w-fit px-4 py-2 transition rounded-lg "+(a[2]?" cursor-not-allowed bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black":"bg-black hover:bg-gray-900 text-white dark:bg-white dark:hover:bg-gray-100 dark:text-black")+" flex w-full justify-center"))&&r(z,"class",be),(!x||h&4)&&(z.disabled=a[2])},i(a){x||(De(l.$$.fragment,a),De(k.$$.fragment,a),De(d.$$.fragment,a),x=!0)},o(a){Ie(l.$$.fragment,a),Ie(k.$$.fragment,a),Ie(d.$$.fragment,a),x=!1},d(a){a&&(i(S),i(I)),Me(l,a),Me(k),Me(d),P&&P.d(),Fe=!1,Xe()}}}function Tt(t,l,s){let m,S;ut(t,Mt,n=>s(8,S=n));let{onSubmit:I}=l,{edit:_=!1}=l,{prompt:o=null}=l;const k=_t("i18n");ut(t,k,n=>s(7,m=n));let q=!1,p="",b="",E="",M={},y=!1,D=!1;function V(n){s(14,D=!0)}const B=async()=>{s(2,q=!0),d(b)?await I({title:p,command:b,content:E,access_control:M}):At.error(m.t("Only alphanumeric characters and hyphens are allowed in the command string.")),s(2,q=!1)},d=n=>/^[a-zA-Z0-9-]+$/.test(n);gt(async()=>{o&&(s(1,p=o.title),await bt(),s(3,b=o.command.at(0)==="/"?o.command.slice(1):o.command),s(4,E=o.content),s(5,M=(o==null?void 0:o.access_control)??{}))});function L(n){y=n,s(6,y)}function O(n){M=n,s(5,M)}function v(){p=this.value,s(1,p)}const Y=()=>{s(6,y=!0)};function f(){b=this.value,s(3,b),s(0,_),s(14,D),s(1,p)}function w(n){E=n,s(4,E)}const Z=()=>{B()};return t.$$set=n=>{"onSubmit"in n&&s(12,I=n.onSubmit),"edit"in n&&s(0,_=n.edit),"prompt"in n&&s(13,o=n.prompt)},t.$$.update=()=>{t.$$.dirty&16387&&!_&&!D&&s(3,b=p!==""?Vt(p):"")},[_,p,q,b,E,M,y,m,S,k,V,B,I,o,D,L,O,v,Y,f,w,Z]}class Lt extends kt{constructor(l){super(),yt(this,l,Tt,Nt,pt,{onSubmit:12,edit:0,prompt:13})}}export{Lt as P};
//# sourceMappingURL=Drh3X59C.js.map
