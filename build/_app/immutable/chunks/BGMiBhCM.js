import{s as Oe,e as b,t as F,k as z,c as k,a as g,b as Q,d,o as H,f as c,C as le,i as W,g as u,O as re,u as se,h as J,p as Pe,j as Ne,q as Te,P as je,Q as Ve,R as Be,E as ie,F as oe,n as ge,l as me,I as Ce}from"./BDiUIGvQ.js";import{S as Se,i as Re,t as L,g as fe,a as U,c as _e,b as ae,d as ne,m as ce,e as ue}from"./CMw2dQw9.js";import{e as de}from"./DgmbscGK.js";import{g as Ae}from"./BTWPt7Q5.js";import"./CF4_YkFU.js";import"./5uy4Zm2q.js";import{U as Me}from"./B5yombTQ.js";import{X as Ge}from"./DMy3xy05.js";import{B as De}from"./D27omodB.js";function be(i,e,t){const l=i.slice();return l[15]=e[t],l}function ke(i,e,t){const l=i.slice();return l[15]=e[t],l}function ve(i){const e=i.slice(),t=e[4].filter(l=>e[0].read.group_ids.includes(l.id));return e[14]=t,e}function xe(i){let e,t;return{c(){e=ie("svg"),t=ie("path"),this.h()},l(l){e=oe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=g(e);t=oe(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(d),r.forEach(d),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M6.115 5.19l.319 1.913A6 6 0 008.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 002.288-4.042 1.087 1.087 0 00-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 01-.98-.314l-.295-.295a1.125 1.125 0 010-1.591l.13-.132a1.125 1.125 0 011.3-.21l.603.302a.809.809 0 001.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 001.528-1.732l.146-.292M6.115 5.19A9 9 0 1017.18 4.64M6.115 5.19A8.965 8.965 0 0112 3c1.929 0 3.716.607 5.18 1.64"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"class","w-5 h-5")},m(l,r){W(l,e,r),u(e,t)},d(l){l&&d(e)}}}function Le(i){let e,t;return{c(){e=ie("svg"),t=ie("path"),this.h()},l(l){e=oe(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=g(e);t=oe(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(d),r.forEach(d),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke-width","1.5"),c(e,"stroke","currentColor"),c(e,"class","w-5 h-5")},m(l,r){W(l,e,r),u(e,t)},d(l){l&&d(e)}}}function we(i){let e,t=i[5].t("Public")+"",l;return{c(){e=b("option"),l=F(t),this.h()},l(r){e=k(r,"OPTION",{class:!0});var n=g(e);l=Q(n,t),n.forEach(d),this.h()},h(){c(e,"class","text-gray-700"),e.__value="public",le(e,e.__value),e.selected=!0},m(r,n){W(r,e,n),u(e,l)},p(r,n){n&32&&t!==(t=r[5].t("Public")+"")&&J(l,t)},d(r){r&&d(e)}}}function Ue(i){let e=i[5].t("Accessible to all users")+"",t;return{c(){t=F(e)},l(l){t=Q(l,e)},m(l,r){W(l,t,r)},p(l,r){r&32&&e!==(e=l[5].t("Accessible to all users")+"")&&J(t,e)},d(l){l&&d(t)}}}function qe(i){let e=i[5].t("Only select users and groups with permission can access")+"",t;return{c(){t=F(e)},l(l){t=Q(l,e)},m(l,r){W(l,t,r)},p(l,r){r&32&&e!==(e=l[5].t("Only select users and groups with permission can access")+"")&&J(t,e)},d(l){l&&d(t)}}}function Ee(i){let e,t,l,r,n=i[5].t("Groups")+"",a,s,f,w,P,y,m,h,I=i[5].t("Select a group")+"",G,R,_,N,M,T,C,A,S,q,x,D=de(i[4].filter(i[9])),v=[];for(let o=0;o<D.length;o+=1)v[o]=ye(ke(i,D,o));const j=[He,ze],E=[];function V(o,p){return o[14].length>0?0:1}return C=V(i),A=E[C]=j[C](i),{c(){e=b("div"),t=b("div"),l=b("div"),r=b("div"),a=F(n),s=z(),f=b("div"),w=b("div"),P=b("div"),y=b("div"),m=b("select"),h=b("option"),G=F(I);for(let o=0;o<v.length;o+=1)v[o].c();_=z(),N=b("hr"),M=z(),T=b("div"),A.c(),this.h()},l(o){e=k(o,"DIV",{});var p=g(e);t=k(p,"DIV",{class:!0});var O=g(t);l=k(O,"DIV",{class:!0});var B=g(l);r=k(B,"DIV",{class:!0});var X=g(r);a=Q(X,n),X.forEach(d),B.forEach(d),s=H(O),f=k(O,"DIV",{class:!0});var $=g(f);w=k($,"DIV",{class:!0});var ee=g(w);P=k(ee,"DIV",{class:!0});var K=g(P);y=k(K,"DIV",{class:!0});var Y=g(y);m=k(Y,"SELECT",{class:!0});var Z=g(m);h=k(Z,"OPTION",{class:!0});var te=g(h);G=Q(te,I),te.forEach(d);for(let he=0;he<v.length;he+=1)v[he].l(Z);Z.forEach(d),Y.forEach(d),K.forEach(d),ee.forEach(d),$.forEach(d),_=H(O),N=k(O,"HR",{class:!0}),M=H(O),T=k(O,"DIV",{class:!0});var pe=g(T);A.l(pe),pe.forEach(d),O.forEach(d),p.forEach(d),this.h()},h(){c(r,"class","text-sm font-semibold"),c(l,"class","flex justify-between mb-1.5"),c(h,"class","text-gray-700"),h.__value="",le(h,h.__value),h.disabled=!0,h.selected=!0,c(m,"class",R="outline-hidden bg-transparent text-sm rounded-lg block w-full pr-10 max-w-full "+(i[3]?"":"text-gray-500")+" dark:placeholder-gray-500"),i[3]===void 0&&je(()=>i[10].call(m)),c(y,"class","w-full px-0.5"),c(P,"class","flex flex-1 items-center"),c(w,"class","flex w-full"),c(f,"class","mb-1"),c(N,"class","border-gray-100 dark:border-gray-700/10 mt-1.5 mb-2.5 w-full"),c(T,"class","flex flex-col gap-2 mb-1 px-0.5"),c(t,"class","")},m(o,p){W(o,e,p),u(e,t),u(t,l),u(l,r),u(r,a),u(t,s),u(t,f),u(f,w),u(w,P),u(P,y),u(y,m),u(m,h),u(h,G);for(let O=0;O<v.length;O+=1)v[O]&&v[O].m(m,null);re(m,i[3],!0),u(t,_),u(t,N),u(t,M),u(t,T),E[C].m(T,null),S=!0,q||(x=se(m,"change",i[10]),q=!0)},p(o,p){if((!S||p&32)&&n!==(n=o[5].t("Groups")+"")&&J(a,n),(!S||p&32)&&I!==(I=o[5].t("Select a group")+"")&&J(G,I),p&17){D=de(o[4].filter(o[9]));let B;for(B=0;B<D.length;B+=1){const X=ke(o,D,B);v[B]?v[B].p(X,p):(v[B]=ye(X),v[B].c(),v[B].m(m,null))}for(;B<v.length;B+=1)v[B].d(1);v.length=D.length}(!S||p&25&&R!==(R="outline-hidden bg-transparent text-sm rounded-lg block w-full pr-10 max-w-full "+(o[3]?"":"text-gray-500")+" dark:placeholder-gray-500"))&&c(m,"class",R),p&25&&re(m,o[3]);let O=C;C=V(o),C===O?E[C].p(o,p):(fe(),U(E[O],1,1,()=>{E[O]=null}),_e(),A=E[C],A?A.p(o,p):(A=E[C]=j[C](o),A.c()),L(A,1),A.m(T,null))},i(o){S||(L(A),S=!0)},o(o){U(A),S=!1},d(o){o&&d(e),Ve(v,o),E[C].d(),q=!1,x()}}}function ye(i){let e,t=i[15].name+"",l,r;return{c(){e=b("option"),l=F(t),this.h()},l(n){e=k(n,"OPTION",{class:!0});var a=g(e);l=Q(a,t),a.forEach(d),this.h()},h(){c(e,"class","text-gray-700"),e.__value=r=i[15].id,le(e,e.__value)},m(n,a){W(n,e,a),u(e,l)},p(n,a){a&17&&t!==(t=n[15].name+"")&&J(l,t),a&17&&r!==(r=n[15].id)&&(e.__value=r,le(e,e.__value))},d(n){n&&d(e)}}}function ze(i){let e,t,l=i[5].t("No groups with access, add a group to grant access")+"",r;return{c(){e=b("div"),t=b("div"),r=F(l),this.h()},l(n){e=k(n,"DIV",{class:!0});var a=g(e);t=k(a,"DIV",{class:!0});var s=g(t);r=Q(s,l),s.forEach(d),a.forEach(d),this.h()},h(){c(t,"class","text-gray-500 text-xs text-center py-2 px-10"),c(e,"class","flex items-center justify-center")},m(n,a){W(n,e,a),u(e,t),u(t,r)},p(n,a){a&32&&l!==(l=n[5].t("No groups with access, add a group to grant access")+"")&&J(r,l)},i:ge,o:ge,d(n){n&&d(e)}}}function He(i){let e,t,l=de(i[14]),r=[];for(let a=0;a<l.length;a+=1)r[a]=Ie(be(i,l,a));const n=a=>U(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=me()},l(a){for(let s=0;s<r.length;s+=1)r[s].l(a);e=me()},m(a,s){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,s);W(a,e,s),t=!0},p(a,s){if(s&51){l=de(a[14]);let f;for(f=0;f<l.length;f+=1){const w=be(a,l,f);r[f]?(r[f].p(w,s),L(r[f],1)):(r[f]=Ie(w),r[f].c(),L(r[f],1),r[f].m(e.parentNode,e))}for(fe(),f=l.length;f<r.length;f+=1)n(f);_e()}},i(a){if(!t){for(let s=0;s<l.length;s+=1)L(r[s]);t=!0}},o(a){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)U(r[s]);t=!1},d(a){a&&d(e),Ve(r,a)}}}function We(i){let e,t;return e=new De({props:{type:"info",content:i[5].t("Read")}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const n={};r&32&&(n.content=l[5].t("Read")),e.$set(n)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Xe(i){let e,t;return e=new De({props:{type:"success",content:i[5].t("Write")}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const n={};r&32&&(n.content=l[5].t("Write")),e.$set(n)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){ue(e,l)}}}function Ie(i){let e,t,l,r,n,a,s=i[15].name+"",f,w,P,y,m,h,I,G,R,_,N,M,T,C;r=new Me({props:{className:"size-4"}});const A=[Xe,We],S=[];function q(v,j){return j&17&&(m=null),m==null&&(m=!!v[0].write.group_ids.includes(v[15].id)),m?0:1}h=q(i,-1),I=S[h]=A[h](i);function x(){return i[11](i[15])}_=new Ge({});function D(){return i[12](i[15])}return{c(){e=b("div"),t=b("div"),l=b("div"),ae(r.$$.fragment),n=z(),a=b("div"),f=F(s),w=z(),P=b("div"),y=b("button"),I.c(),G=z(),R=b("button"),ae(_.$$.fragment),N=z(),this.h()},l(v){e=k(v,"DIV",{class:!0});var j=g(e);t=k(j,"DIV",{class:!0});var E=g(t);l=k(E,"DIV",{});var V=g(l);ne(r.$$.fragment,V),V.forEach(d),n=H(E),a=k(E,"DIV",{});var o=g(a);f=Q(o,s),o.forEach(d),E.forEach(d),w=H(j),P=k(j,"DIV",{class:!0});var p=g(P);y=k(p,"BUTTON",{class:!0,type:!0});var O=g(y);I.l(O),O.forEach(d),G=H(p),R=k(p,"BUTTON",{class:!0,type:!0});var B=g(R);ne(_.$$.fragment,B),B.forEach(d),p.forEach(d),N=H(j),j.forEach(d),this.h()},h(){c(t,"class","flex items-center gap-1.5 w-full font-medium"),c(y,"class",""),c(y,"type","button"),c(R,"class","rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),c(R,"type","button"),c(P,"class","w-full flex justify-end items-center gap-0.5"),c(e,"class","flex items-center gap-3 justify-between text-xs w-full transition")},m(v,j){W(v,e,j),u(e,t),u(t,l),ce(r,l,null),u(t,n),u(t,a),u(a,f),u(e,w),u(e,P),u(P,y),S[h].m(y,null),u(P,G),u(P,R),ce(_,R,null),u(e,N),M=!0,T||(C=[se(y,"click",x),se(R,"click",D)],T=!0)},p(v,j){i=v,(!M||j&17)&&s!==(s=i[15].name+"")&&J(f,s);let E=h;h=q(i,j),h===E?S[h].p(i,j):(fe(),U(S[E],1,1,()=>{S[E]=null}),_e(),I=S[h],I?I.p(i,j):(I=S[h]=A[h](i),I.c()),L(I,1),I.m(y,null))},i(v){M||(L(r.$$.fragment,v),L(I),L(_.$$.fragment,v),M=!0)},o(v){U(r.$$.fragment,v),U(I),U(_.$$.fragment,v),M=!1},d(v){v&&d(e),ue(r),S[h].d(),ue(_),T=!1,Ce(C)}}}function Fe(i){let e,t,l,r=i[5].t("Visibility")+"",n,a,s,f,w,P,y,m,h,I=i[5].t("Private")+"",G,R,_,N,M,T,C,A;function S(o,p){return o[0]!==null?Le:xe}let q=S(i),x=q(i),D=i[2]&&we(i);function v(o,p){return o[0]!==null?qe:Ue}let j=v(i),E=j(i),V=i[0]!==null&&Ee(ve(i));return{c(){e=b("div"),t=b("div"),l=b("div"),n=F(r),a=z(),s=b("div"),f=b("div"),w=b("div"),x.c(),P=z(),y=b("div"),m=b("select"),h=b("option"),G=F(I),D&&D.c(),_=z(),N=b("div"),E.c(),M=z(),V&&V.c(),this.h()},l(o){e=k(o,"DIV",{class:!0});var p=g(e);t=k(p,"DIV",{class:!0});var O=g(t);l=k(O,"DIV",{class:!0});var B=g(l);n=Q(B,r),B.forEach(d),a=H(O),s=k(O,"DIV",{class:!0});var X=g(s);f=k(X,"DIV",{});var $=g(f);w=k($,"DIV",{class:!0});var ee=g(w);x.l(ee),ee.forEach(d),$.forEach(d),P=H(X),y=k(X,"DIV",{});var K=g(y);m=k(K,"SELECT",{id:!0,class:!0});var Y=g(m);h=k(Y,"OPTION",{class:!0});var Z=g(h);G=Q(Z,I),Z.forEach(d),D&&D.l(Y),Y.forEach(d),_=H(K),N=k(K,"DIV",{class:!0});var te=g(N);E.l(te),te.forEach(d),K.forEach(d),X.forEach(d),O.forEach(d),M=H(p),V&&V.l(p),p.forEach(d),this.h()},h(){c(l,"class","text-sm font-semibold mb-1"),c(w,"class","p-2 bg-black/5 dark:bg-white/5 rounded-full"),c(h,"class","text-gray-700"),h.__value="private",le(h,h.__value),h.selected=!0,c(m,"id","models"),c(m,"class","outline-hidden bg-transparent text-sm font-medium rounded-lg block w-fit pr-10 max-w-full placeholder-gray-400"),c(N,"class","text-xs text-gray-400 font-medium"),c(s,"class","flex gap-2.5 items-center mb-1"),c(t,"class",""),c(e,"class","rounded-lg flex flex-col gap-2")},m(o,p){W(o,e,p),u(e,t),u(t,l),u(l,n),u(t,a),u(t,s),u(s,f),u(f,w),x.m(w,null),u(s,P),u(s,y),u(y,m),u(m,h),u(h,G),D&&D.m(m,null),re(m,i[0]!==null?"private":"public"),u(y,_),u(y,N),E.m(N,null),u(e,M),V&&V.m(e,null),T=!0,C||(A=se(m,"change",i[8]),C=!0)},p(o,[p]){(!T||p&32)&&r!==(r=o[5].t("Visibility")+"")&&J(n,r),q!==(q=S(o))&&(x.d(1),x=q(o),x&&(x.c(),x.m(w,null))),(!T||p&32)&&I!==(I=o[5].t("Private")+"")&&J(G,I),o[2]?D?D.p(o,p):(D=we(o),D.c(),D.m(m,null)):D&&(D.d(1),D=null),(!T||p&1&&R!==(R=o[0]!==null?"private":"public"))&&re(m,o[0]!==null?"private":"public"),j===(j=v(o))&&E?E.p(o,p):(E.d(1),E=j(o),E&&(E.c(),E.m(N,null))),o[0]!==null?V?(V.p(ve(o),p),p&1&&L(V,1)):(V=Ee(ve(o)),V.c(),L(V,1),V.m(e,null)):V&&(fe(),U(V,1,1,()=>{V=null}),_e())},i(o){T||(L(V),T=!0)},o(o){U(V),T=!1},d(o){o&&d(e),x.d(),D&&D.d(),E.d(),V&&V.d(),C=!1,A()}}}function Qe(i,e,t){let l;const r=Pe("i18n");Ne(i,r,_=>t(5,l=_));let{onChange:n=()=>{}}=e,{accessRoles:a=["read"]}=e,{accessControl:s={}}=e,{allowPublic:f=!0}=e,w="",P=[];Te(async()=>{var _,N,M,T;t(4,P=await Ae(localStorage.token)),s===null?f?t(0,s=null):(t(0,s={read:{group_ids:[],user_ids:[]},write:{group_ids:[],user_ids:[]}}),n(s)):t(0,s={read:{group_ids:((_=s==null?void 0:s.read)==null?void 0:_.group_ids)??[],user_ids:((N=s==null?void 0:s.read)==null?void 0:N.user_ids)??[]},write:{group_ids:((M=s==null?void 0:s.write)==null?void 0:M.group_ids)??[],user_ids:((T=s==null?void 0:s.write)==null?void 0:T.user_ids)??[]}})});const y=()=>{w!==""&&(t(0,s.read.group_ids=[...s.read.group_ids,w],s),t(3,w=""))},m=_=>{_.target.value==="public"?t(0,s=null):t(0,s={read:{group_ids:[],user_ids:[]},write:{group_ids:[],user_ids:[]}})},h=_=>!s.read.group_ids.includes(_.id);function I(){w=Be(this),t(3,w),t(4,P),t(0,s),t(2,f),t(7,n)}const G=_=>{a.includes("write")&&(s.write.group_ids.includes(_.id)?t(0,s.write.group_ids=s.write.group_ids.filter(N=>N!==_.id),s):t(0,s.write.group_ids=[...s.write.group_ids,_.id],s))},R=_=>{t(0,s.read.group_ids=s.read.group_ids.filter(N=>N!==_.id),s)};return i.$$set=_=>{"onChange"in _&&t(7,n=_.onChange),"accessRoles"in _&&t(1,a=_.accessRoles),"accessControl"in _&&t(0,s=_.accessControl),"allowPublic"in _&&t(2,f=_.allowPublic)},i.$$.update=()=>{i.$$.dirty&133&&!f&&s===null&&(t(0,s={read:{group_ids:[],user_ids:[]},write:{group_ids:[],user_ids:[]}}),n(s)),i.$$.dirty&129&&n(s),i.$$.dirty&8&&w&&y()},[s,a,f,w,P,l,r,n,m,h,I,G,R]}class st extends Se{constructor(e){super(),Re(this,e,Qe,Fe,Oe,{onChange:7,accessRoles:1,accessControl:0,allowPublic:2})}}export{st as A};
//# sourceMappingURL=BGMiBhCM.js.map
